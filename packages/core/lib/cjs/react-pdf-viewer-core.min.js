"use strict";var e=require("react/jsx-runtime");function t(e){var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var n=t(require("react")),r="undefined"!=typeof window?n.useLayoutEffect:n.useEffect,o=function(e){var t=n.useRef(null),o=e.once,i=e.threshold,a=e.onVisibilityChanged;return r((function(){var e=t.current;if(e){var n=new IntersectionObserver((function(t){t.forEach((function(t){var r=t.isIntersecting,i=t.intersectionRatio;a({isVisible:r,ratio:i}),r&&o&&(n.unobserve(e),n.disconnect())}))}),{threshold:i||0});return n.observe(e),function(){n.unobserve(e),n.disconnect()}}}),[]),t},i=function(e){var t=n.useRef(e);return n.useEffect((function(){t.current=e}),[e]),t.current},a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},a(e,t)};function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var s=function(){return s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},s.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var l,u,d,p=function(e,t){var r=n.useRef(),o=function(){r.current&&clearTimeout(r.current)};return n.useEffect((function(){return function(){return o()}}),[]),n.useCallback((function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];o(),r.current=setTimeout((function(){e.apply(void 0,n)}),t)}),[e,t])},f={capture:!1,passive:!0},g={height:0,width:0};exports.FullScreenMode=void 0,(l=exports.FullScreenMode||(exports.FullScreenMode={})).Normal="Normal",l.Entering="Entering",l.Entered="Entered",l.EnteredCompletely="EnteredCompletely",l.Exitting="Exitting",l.Exited="Exited",exports.ScrollMode=void 0,(u=exports.ScrollMode||(exports.ScrollMode={})).Page="Page",u.Horizontal="Horizontal",u.Vertical="Vertical",u.Wrapped="Wrapped",function(e){e[e.ExitFullScreen=0]="ExitFullScreen",e[e.FullScreenChange=1]="FullScreenChange",e[e.FullScreenElement=2]="FullScreenElement",e[e.FullScreenEnabled=3]="FullScreenEnabled",e[e.RequestFullScreen=4]="RequestFullScreen"}(d||(d={}));var h,v={ExitFullScreen:"exitFullscreen",FullScreenChange:"fullscreenchange",FullScreenElement:"fullscreenElement",FullScreenEnabled:"fullscreenEnabled",RequestFullScreen:"requestFullscreen"},x={ExitFullScreen:"webkitExitFullscreen",FullScreenChange:"webkitfullscreenchange",FullScreenElement:"webkitFullscreenElement",FullScreenEnabled:"webkitFullscreenEnabled",RequestFullScreen:"webkitRequestFullscreen"},m={ExitFullScreen:"msExitFullscreen",FullScreenChange:"msFullscreenChange",FullScreenElement:"msFullscreenElement",FullScreenEnabled:"msFullscreenEnabled",RequestFullScreen:"msRequestFullscreen"},w="undefined"!=typeof window,P=w&&(d.FullScreenEnabled in document&&v||x.FullScreenEnabled in document&&x||m.FullScreenEnabled in document&&m)||v,S=function(){return w&&P.FullScreenEnabled in document&&!0===document[P.FullScreenEnabled]},b=function(e){return w?e[P.ExitFullScreen]():Promise.resolve({})},y=function(){return w?document[P.FullScreenElement]:null},_={height:0,width:0},R=function(e){var t=e.getCurrentPage,o=e.getCurrentScrollMode,i=e.jumpToPage,a=e.targetRef,c=n.useState(exports.FullScreenMode.Normal),s=c[0],l=c[1],u=function(){var e=n.useState(g),t=e[0],o=e[1],i=p((function(){o({height:window.innerHeight,width:window.innerWidth})}),100);return r((function(){return window.addEventListener("resize",i,f),function(){window.removeEventListener("resize",i,f)}}),[]),t}(),d=n.useState(_),h=d[0],v=d[1],x=n.useRef(_),m=n.useRef(t()),R=n.useRef(_),M=n.useState(a.current),C=M[0],k=M[1],j=n.useRef();r((function(){a.current!==C&&k(a.current)}),[]),r((function(){if(C){var e=new ResizeObserver((function(e){e.forEach((function(e){var t=e.target.getBoundingClientRect(),n=t.height,r=t.width;v({height:n,width:r})}))}));return e.observe(C),function(){e.unobserve(C),e.disconnect()}}}),[C]);var T=n.useCallback((function(e){var t=y();return t&&t!==e?(l(exports.FullScreenMode.Normal),b(t)):Promise.resolve()}),[]),L=n.useCallback((function(e){e&&S()&&(k(e),T(e).then((function(){j.current=e,l(exports.FullScreenMode.Entering),function(e){w&&e[P.RequestFullScreen]()}(e)})))}),[]),E=n.useCallback((function(){y()&&(l(exports.FullScreenMode.Exitting),b(document))}),[]),O=n.useCallback((function(){C&&(y()!==C&&l(exports.FullScreenMode.Exitting))}),[C]);return n.useEffect((function(){switch(s){case exports.FullScreenMode.Entering:j.current&&(j.current.style.backgroundColor="var(--rpv-core__full-screen-target-background-color)"),m.current=t(),x.current={height:window.innerHeight,width:window.innerWidth};break;case exports.FullScreenMode.Entered:o()===exports.ScrollMode.Page?i(m.current).then((function(){l(exports.FullScreenMode.EnteredCompletely)})):l(exports.FullScreenMode.EnteredCompletely);break;case exports.FullScreenMode.Exitting:j.current&&(j.current.style.backgroundColor="",j.current=null),m.current=t();break;case exports.FullScreenMode.Exited:l(exports.FullScreenMode.Normal),o()===exports.ScrollMode.Page&&i(m.current)}}),[s]),n.useEffect((function(){if(s!==exports.FullScreenMode.Normal)return s===exports.FullScreenMode.Entering&&u.height===h.height&&u.width===h.width&&u.height>0&&u.width>0&&(0===R.current.height||u.height==R.current.height)?(R.current={height:window.innerHeight,width:window.innerWidth},void l(exports.FullScreenMode.Entered)):void(s===exports.FullScreenMode.Exitting&&x.current.height===u.height&&x.current.width===u.width&&u.height>0&&u.width>0&&l(exports.FullScreenMode.Exited))}),[s,u,h]),n.useEffect((function(){var e;return e=O,w&&document.addEventListener(P.FullScreenChange,e),function(){!function(e){w&&document.removeEventListener(P.FullScreenChange,e)}(O)}}),[C]),{enterFullScreenMode:L,exitFullScreenMode:E,fullScreenMode:s}};!function(e){e.NotRenderedYet="NotRenderedYet",e.Rendering="Rendering",e.Rendered="Rendered"}(h||(h={}));var M,C,k,j=-9999,T=function(e){var t=e.doc,r=t.numPages,o=t.loadingTask.docId,i=n.useMemo((function(){return Array(r).fill(null).map((function(e,t){return{pageIndex:t,renderStatus:h.NotRenderedYet,visibility:j}}))}),[o]),a=n.useRef({currentRenderingPage:-1,startRange:0,endRange:r-1,visibilities:i}),c=function(e,t){a.current.visibilities[e].visibility=t};return{getHighestPriorityPage:function(){var e=a.current.visibilities.slice(a.current.startRange,a.current.endRange+1).filter((function(e){return e.visibility>j}));if(!e.length)return-1;for(var t=e[0].pageIndex,n=e[e.length-1].pageIndex,o=e.length,i=-1,c=-1,s=0;s<o;s++){if(e[s].renderStatus===h.Rendering)return-1;e[s].renderStatus===h.NotRenderedYet&&(-1===i||e[s].visibility>c)&&(i=e[s].pageIndex,c=e[s].visibility)}return i>-1?i:n+1<r&&a.current.visibilities[n+1].renderStatus!==h.Rendered?n+1:t-1>=0&&a.current.visibilities[t-1].renderStatus!==h.Rendered?t-1:-1},isInRange:function(e){return e>=a.current.startRange&&e<=a.current.endRange},markNotRendered:function(){for(var e=0;e<r;e++)a.current.visibilities[e].renderStatus=h.NotRenderedYet},markRendered:function(e){a.current.visibilities[e].renderStatus=h.Rendered},markRendering:function(e){-1!==a.current.currentRenderingPage&&a.current.currentRenderingPage!==e&&a.current.visibilities[a.current.currentRenderingPage].renderStatus===h.Rendering&&(a.current.visibilities[a.current.currentRenderingPage].renderStatus=h.NotRenderedYet),a.current.visibilities[e].renderStatus=h.Rendering,a.current.currentRenderingPage=e},setOutOfRange:function(e){c(e,j)},setRange:function(e,t){a.current.startRange=e,a.current.endRange=t;for(var n=0;n<r;n++)n<e||n>t?(a.current.visibilities[n].visibility=j,a.current.visibilities[n].renderStatus=h.NotRenderedYet):a.current.visibilities[n].visibility===j&&(a.current.visibilities[n].visibility=-1)},setVisibility:c}};exports.AnnotationType=void 0,(M=exports.AnnotationType||(exports.AnnotationType={}))[M.Text=1]="Text",M[M.Link=2]="Link",M[M.FreeText=3]="FreeText",M[M.Line=4]="Line",M[M.Square=5]="Square",M[M.Circle=6]="Circle",M[M.Polygon=7]="Polygon",M[M.Polyline=8]="Polyline",M[M.Highlight=9]="Highlight",M[M.Underline=10]="Underline",M[M.Squiggly=11]="Squiggly",M[M.StrikeOut=12]="StrikeOut",M[M.Stamp=13]="Stamp",M[M.Caret=14]="Caret",M[M.Ink=15]="Ink",M[M.Popup=16]="Popup",M[M.FileAttachment=17]="FileAttachment",function(e){e[e.Solid=1]="Solid",e[e.Dashed=2]="Dashed",e[e.Beveled=3]="Beveled",e[e.Inset=4]="Inset",e[e.Underline=5]="Underline"}(C||(C={})),exports.TextDirection=void 0,(k=exports.TextDirection||(exports.TextDirection={})).RightToLeft="RTL",k.LeftToRight="LTR";var L,E=n.createContext({currentTheme:"light",direction:exports.TextDirection.LeftToRight,setCurrentTheme:function(){}}),O=function(e){var t=[];return Object.keys(e).forEach((function(n){n&&e[n]&&t.push(n)})),t.join(" ")},F=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),I=function(e,t,n,r){var o=parseInt(e,10);return o>=t&&o<=n?o:r},A=function(e){return e.contentsObj?e.contentsObj.str:e.contents||""},D=function(e){return e.titleObj?e.titleObj.str:e.title||""},V=function(t){var r=t.annotation,o=n.useContext(E).direction,i=D(r),a=A(r),c=o===exports.TextDirection.RightToLeft,s=n.useRef(),l="";if(r.modificationDate){var u=function(e){var t=F.exec(e);if(!t)return null;var n=parseInt(t[1],10),r=I(t[2],1,12,1)-1,o=I(t[3],1,31,1),i=I(t[4],0,23,0),a=I(t[5],0,59,0),c=I(t[6],0,59,0),s=t[7]||"Z",l=I(t[8],0,23,0),u=I(t[9],0,59,0);switch(s){case"-":i+=l,a+=u;break;case"+":i-=l,a-=u}return new Date(Date.UTC(n,r,o,i,a,c))}(r.modificationDate);l=u?"".concat(u.toLocaleDateString(),", ").concat(u.toLocaleTimeString()):""}return n.useLayoutEffect((function(){if(s.current){var e=document.querySelector('[data-annotation-id="'.concat(r.id,'"]'));if(e){var t=e;return t.style.zIndex+=1,function(){t.style.zIndex="".concat(parseInt(t.style.zIndex,10)-1)}}}}),[]),e.jsxs("div",{ref:s,className:O({"rpv-core__annotation-popup-wrapper":!0,"rpv-core__annotation-popup-wrapper--rtl":c}),style:{top:r.annotationType===exports.AnnotationType.Popup?"":"100%"},children:[i&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:O({"rpv-core__annotation-popup-title":!0,"rpv-core__annotation-popup-title--ltr":!c,"rpv-core__annotation-popup-title--rtl":c}),children:i}),e.jsx("div",{className:"rpv-core__annotation-popup-date",children:l})]}),a&&e.jsx("div",{className:"rpv-core__annotation-popup-content",children:a.split("\n").map((function(t,r){return e.jsxs(n.Fragment,{children:[t,e.jsx("br",{})]},r)}))})]})};exports.ToggleStatus=void 0,(L=exports.ToggleStatus||(exports.ToggleStatus={})).Close="Close",L.Open="Open",L.Toggle="Toggle";var N,z=function(e){var t=n.useState(e),r=t[0],o=t[1];return{opened:r,toggle:function(e){switch(e){case exports.ToggleStatus.Close:o(!1);break;case exports.ToggleStatus.Open:o(!0);break;case exports.ToggleStatus.Toggle:default:o((function(e){return!e}))}}}};!function(e){e.Click="Click",e.Hover="Hover"}(N||(N={}));var H,B=function(t){var r,o=t.annotation,i=t.children,a=t.ignoreBorder,c=t.hasPopup,s=t.isRenderable,l=t.page,u=t.viewport,d=o.rect,p=function(){var e=z(!1),t=e.opened,r=e.toggle,o=n.useState(N.Hover),i=o[0],a=o[1];return{opened:t,closeOnHover:function(){i===N.Hover&&r(exports.ToggleStatus.Close)},openOnHover:function(){i===N.Hover&&r(exports.ToggleStatus.Open)},toggleOnClick:function(){switch(i){case N.Click:t&&a(N.Hover),r(exports.ToggleStatus.Toggle);break;case N.Hover:a(N.Click),r(exports.ToggleStatus.Open)}}}}(),f=p.closeOnHover,g=p.opened,h=p.openOnHover,v=p.toggleOnClick,x=(r=[d[0],l.view[3]+l.view[1]-d[1],d[2],l.view[3]+l.view[1]-d[3]],[Math.min(r[0],r[2]),Math.min(r[1],r[3]),Math.max(r[0],r[2]),Math.max(r[1],r[3])]),m=d[2]-d[0],w=d[3]-d[1],P={borderColor:"",borderRadius:"",borderStyle:"",borderWidth:""};if(!a&&o.borderStyle.width>0){switch(o.borderStyle.style){case C.Dashed:P.borderStyle="dashed";break;case C.Solid:P.borderStyle="solid";break;case C.Underline:P=Object.assign({borderBottomStyle:"solid"},P);case C.Beveled:case C.Inset:}var S=o.borderStyle.width;P.borderWidth="".concat(S,"px"),o.borderStyle.style!==C.Underline&&(m-=2*S,w-=2*S);var b=o.borderStyle,y=b.horizontalCornerRadius,_=b.verticalCornerRadius;(y>0||_>0)&&(P.borderRadius="".concat(y,"px / ").concat(_,"px")),o.color?P.borderColor="rgb(".concat(0|o.color[0],", ").concat(0|o.color[1],", ").concat(0|o.color[2],")"):P.borderWidth="0"}return e.jsx(e.Fragment,{children:s&&i({popup:{opened:g,closeOnHover:f,openOnHover:h,toggleOnClick:v},slot:{attrs:{style:Object.assign({height:"".concat(w,"px"),left:"".concat(x[0],"px"),top:"".concat(x[1],"px"),transform:"matrix(".concat(u.transform.join(","),")"),transformOrigin:"-".concat(x[0],"px -").concat(x[1],"px"),width:"".concat(m,"px")},P)},children:e.jsx(e.Fragment,{children:c&&g&&e.jsx(V,{annotation:o})})}})})},W=function(t){var n=t.annotation,r=t.page,o=t.viewport,i=!1===n.hasPopup,a=D(n),c=A(n),l=!!(n.hasPopup||a||c);return e.jsx(B,{annotation:n,hasPopup:i,ignoreBorder:!0,isRenderable:l,page:r,viewport:o,children:function(t){return e.jsx("div",s({},t.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--caret","data-annotation-id":n.id,onClick:t.popup.toggleOnClick,onMouseEnter:t.popup.openOnHover,onMouseLeave:t.popup.closeOnHover,children:t.slot.children}))}})},q=function(t){var n=t.annotation,r=t.page,o=t.viewport,i=!1===n.hasPopup,a=D(n),c=A(n),l=!!(n.hasPopup||a||c),u=n.rect,d=u[2]-u[0],p=u[3]-u[1],f=n.borderStyle.width;return e.jsx(B,{annotation:n,hasPopup:i,ignoreBorder:!0,isRenderable:l,page:r,viewport:o,children:function(t){return e.jsxs("div",s({},t.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--circle","data-annotation-id":n.id,onClick:t.popup.toggleOnClick,onMouseEnter:t.popup.openOnHover,onMouseLeave:t.popup.closeOnHover,children:[e.jsx("svg",{height:"".concat(p,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(d," ").concat(p),width:"".concat(d,"px"),children:e.jsx("circle",{cy:p/2,fill:"none",rx:d/2-f/2,ry:p/2-f/2,stroke:"transparent",strokeWidth:f||1})}),t.slot.children]}))}})},Z=function(t){var n=t.annotation,r=t.page,o=t.viewport,i=D(n),a=A(n),c=!(!1!==n.hasPopup||!i&&!a),l=function(){var e,t,r,o,i=n.file;i&&(e=i.filename,t=i.content,r="string"==typeof t?"":URL.createObjectURL(new Blob([t],{type:""})),(o=document.createElement("a")).style.display="none",o.href=r||e,o.setAttribute("download",function(e){var t=e.split("/").pop();return t?t.split("#")[0].split("?")[0]:e}(e)),document.body.appendChild(o),o.click(),document.body.removeChild(o),r&&URL.revokeObjectURL(r))};return e.jsx(B,{annotation:n,hasPopup:c,ignoreBorder:!0,isRenderable:!0,page:r,viewport:o,children:function(t){return e.jsx("div",s({},t.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--file-attachment","data-annotation-id":n.id,onClick:t.popup.toggleOnClick,onDoubleClick:l,onMouseEnter:t.popup.openOnHover,onMouseLeave:t.popup.closeOnHover,children:t.slot.children}))}})},J=function(t){var n=t.annotation,r=t.page,o=t.viewport,i=!1===n.hasPopup,a=D(n),c=A(n),l=!!(n.hasPopup||a||c);return e.jsx(B,{annotation:n,hasPopup:i,ignoreBorder:!0,isRenderable:l,page:r,viewport:o,children:function(t){return e.jsx("div",s({},t.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--free-text","data-annotation-id":n.id,onClick:t.popup.toggleOnClick,onMouseEnter:t.popup.openOnHover,onMouseLeave:t.popup.closeOnHover,children:t.slot.children}))}})},U=function(t){var n=t.annotation,o=t.page,i=t.viewport,a=D(n),c=A(n),l=!(!a&&!c),u=!n.parentType||-1!==["Circle","Ink","Line","Polygon","PolyLine","Square"].indexOf(n.parentType);return r((function(){if(n.parentId){var e=document.querySelector('[data-annotation-id="'.concat(n.parentId,'"]')),t=document.querySelector('[data-annotation-id="'.concat(n.id,'"]'));if(e&&t){var r=parseFloat(e.style.left),o=parseFloat(e.style.top)+parseFloat(e.style.height);t.style.left="".concat(r,"px"),t.style.top="".concat(o,"px"),t.style.transformOrigin="-".concat(r,"px -").concat(o,"px")}}}),[]),e.jsx(B,{annotation:n,hasPopup:u,ignoreBorder:!1,isRenderable:l,page:o,viewport:i,children:function(t){return e.jsx("div",s({},t.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--popup","data-annotation-id":n.id,children:e.jsx(V,{annotation:n})}))}})},G=function(t){var n=t.annotation,r=t.childAnnotation,o=t.page,i=t.viewport,a=!1===n.hasPopup,c=D(n),l=A(n),u=!!(n.hasPopup||c||l);if(n.quadPoints&&n.quadPoints.length>0){var d=n.quadPoints.map((function(e){return Object.assign({},n,{rect:[e[2].x,e[2].y,e[1].x,e[1].y],quadPoints:[]})}));return e.jsx(e.Fragment,{children:d.map((function(t,n){return e.jsx(G,{annotation:t,childAnnotation:r,page:o,viewport:i},n)}))})}return e.jsx(B,{annotation:n,hasPopup:a,ignoreBorder:!0,isRenderable:u,page:o,viewport:i,children:function(t){return e.jsxs(e.Fragment,{children:[e.jsx("div",s({},t.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--highlight","data-annotation-id":n.id,onClick:t.popup.toggleOnClick,onMouseEnter:t.popup.openOnHover,onMouseLeave:t.popup.closeOnHover,children:t.slot.children})),r&&r.annotationType===exports.AnnotationType.Popup&&t.popup.opened&&e.jsx(U,{annotation:r,page:o,viewport:i})]})}})},Y=function(t){var n=t.annotation,r=t.page,o=t.viewport,i=!1===n.hasPopup,a=D(n),c=A(n),l=!!(n.hasPopup||a||c),u=n.rect,d=u[2]-u[0],p=u[3]-u[1],f=n.borderStyle.width;return e.jsx(B,{annotation:n,hasPopup:i,ignoreBorder:!0,isRenderable:l,page:r,viewport:o,children:function(t){return e.jsxs("div",s({},t.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--ink","data-annotation-id":n.id,onClick:t.popup.toggleOnClick,onMouseEnter:t.popup.openOnHover,onMouseLeave:t.popup.closeOnHover,children:[n.inkLists&&n.inkLists.length&&e.jsx("svg",{height:"".concat(p,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(d," ").concat(p),width:"".concat(d,"px"),children:n.inkLists.map((function(t,n){return e.jsx("polyline",{fill:"none",stroke:"transparent",strokeWidth:f||1,points:t.map((function(e){return"".concat(e.x-u[0],",").concat(u[3]-e.y)})).join(" ")},n)}))}),t.slot.children]}))}})},K=function(t){var n=t.annotation,r=t.page,o=t.viewport,i=!1===n.hasPopup,a=D(n),c=A(n),l=!!(n.hasPopup||a||c),u=n.rect,d=u[2]-u[0],p=u[3]-u[1],f=n.borderStyle.width;return e.jsx(B,{annotation:n,hasPopup:i,ignoreBorder:!0,isRenderable:l,page:r,viewport:o,children:function(t){return e.jsxs("div",s({},t.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--line","data-annotation-id":n.id,onClick:t.popup.toggleOnClick,onMouseEnter:t.popup.openOnHover,onMouseLeave:t.popup.closeOnHover,children:[e.jsx("svg",{height:"".concat(p,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(d," ").concat(p),width:"".concat(d,"px"),children:e.jsx("line",{stroke:"transparent",strokeWidth:f||1,x1:u[2]-n.lineCoordinates[0],x2:u[2]-n.lineCoordinates[2],y1:u[3]-n.lineCoordinates[1],y2:u[3]-n.lineCoordinates[3]})}),t.slot.children]}))}})};exports.SpecialZoomLevel=void 0,(H=exports.SpecialZoomLevel||(exports.SpecialZoomLevel={})).ActualSize="ActualSize",H.PageFit="PageFit",H.PageWidth="PageWidth";var X,Q,$=function(e,t){switch(t[1].name){case"XYZ":return{bottomOffset:function(e,n){return null===t[3]?n:t[3]},leftOffset:function(e,n){return null===t[2]?0:t[2]},pageIndex:e,scaleTo:t[4]};case"Fit":case"FitB":return{bottomOffset:0,leftOffset:0,pageIndex:e,scaleTo:exports.SpecialZoomLevel.PageFit};case"FitH":case"FitBH":return{bottomOffset:t[2],leftOffset:0,pageIndex:e,scaleTo:exports.SpecialZoomLevel.PageWidth};default:return{bottomOffset:0,leftOffset:0,pageIndex:e,scaleTo:1}}},ee=new Map,te=new Map,ne=function(e,t){return"".concat(e.loadingTask.docId,"___").concat(t.num,"R").concat(0===t.gen?"":t.gen)},re=function(e,t,n){ee.set(ne(e,t),n)},oe=function(e,t){if(!e)return Promise.reject("The document is not loaded yet");var n="".concat(e.loadingTask.docId,"___").concat(t),r=te.get(n);return r?Promise.resolve(r):new Promise((function(r,o){e.getPage(t+1).then((function(o){te.set(n,o),o.ref&&re(e,o.ref,t),r(o)}))}))},ie=function(e,t){return new Promise((function(n){new Promise((function(n){"string"==typeof t?e.getDestination(t).then((function(e){n(e)})):n(t)})).then((function(r){if("object"==typeof r[0]&&null!==r[0]){var o=r[0],i=function(e,t){var n=ne(e,t);return ee.has(n)?ee.get(n):null}(e,o);null===i?e.getPageIndex(o).then((function(r){re(e,o,r),ie(e,t).then((function(e){return n(e)}))})):n($(i,r))}else{var a=$(r[0],r);n(a)}}))}))},ae=/^([^\w]*)(javascript|data|vbscript)/im,ce=/&#(\w+)(^\w|;)?/g,se=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,le=/^([^:]+):/gm,ue=function(e,t){void 0===t&&(t="about:blank");var n,r=(n=e||"",n.replace(ce,(function(e,t){return String.fromCharCode(t)}))).replace(se,"").trim();if(!r)return t;var o=r[0];if("."===o||"/"===o)return r;var i=r.match(le);if(!i)return r;var a=i[0];return ae.test(a)?t:r},de=function(t){var r,o=t.annotation,i=t.annotationContainerRef,a=t.doc,c=t.outlines,l=t.page,u=t.pageIndex,d=t.scale,p=t.viewport,f=t.onExecuteNamedAction,g=t.onJumpFromLinkAnnotation,h=t.onJumpToDest,v=n.useRef(),x=c&&c.length&&o.dest&&"string"==typeof o.dest?null===(r=c.find((function(e){return e.dest===o.dest})))||void 0===r?void 0:r.title:"",m=!!(o.url||o.dest||o.action||o.unsafeUrl),w={};if(o.url||o.unsafeUrl){var P=ue(o.url||o.unsafeUrl,"");P?w={"data-target":"external",href:P,rel:"noopener noreferrer nofollow",target:o.newWindow?"_blank":"",title:P}:m=!1}else w={href:"","data-annotation-link":o.id,onClick:function(e){e.preventDefault(),o.action?f(o.action):ie(a,o.dest).then((function(e){var t=v.current,n=i.current;if(t&&n){var r=t.getBoundingClientRect();n.style.setProperty("height","100%"),n.style.setProperty("width","100%");var o=n.getBoundingClientRect();n.style.removeProperty("height"),n.style.removeProperty("width");var a=(r.left-o.left)/d,c=(o.bottom-r.bottom+r.height)/d;g({bottomOffset:c,label:x,leftOffset:a,pageIndex:u})}h(e)}))}};return x&&(w=Object.assign({},w,{title:x,"aria-label":x})),e.jsx(B,{annotation:o,hasPopup:!1,ignoreBorder:!1,isRenderable:m,page:l,viewport:p,children:function(t){return e.jsx("div",s({},t.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--link","data-annotation-id":o.id,"data-testid":"core__annotation--link-".concat(o.id),children:e.jsx("a",s({ref:v},w))}))}})},pe=function(t){var n=t.annotation,r=t.page,o=t.viewport,i=!1===n.hasPopup,a=D(n),c=A(n),l=!!(n.hasPopup||a||c),u=n.rect,d=u[2]-u[0],p=u[3]-u[1],f=n.borderStyle.width;return e.jsx(B,{annotation:n,hasPopup:i,ignoreBorder:!0,isRenderable:l,page:r,viewport:o,children:function(t){return e.jsxs("div",s({},t.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polygon","data-annotation-id":n.id,onClick:t.popup.toggleOnClick,onMouseEnter:t.popup.openOnHover,onMouseLeave:t.popup.closeOnHover,children:[n.vertices&&n.vertices.length&&e.jsx("svg",{height:"".concat(p,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(d," ").concat(p),width:"".concat(d,"px"),children:e.jsx("polygon",{fill:"none",stroke:"transparent",strokeWidth:f||1,points:n.vertices.map((function(e){return"".concat(e.x-u[0],",").concat(u[3]-e.y)})).join(" ")})}),t.slot.children]}))}})},fe=function(t){var n=t.annotation,r=t.page,o=t.viewport,i=!1===n.hasPopup,a=D(n),c=A(n),l=!!(n.hasPopup||a||c),u=n.rect,d=u[2]-u[0],p=u[3]-u[1],f=n.borderStyle.width;return e.jsx(B,{annotation:n,hasPopup:i,ignoreBorder:!0,isRenderable:l,page:r,viewport:o,children:function(t){return e.jsxs("div",s({},t.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polyline","data-annotation-id":n.id,onClick:t.popup.toggleOnClick,onMouseEnter:t.popup.openOnHover,onMouseLeave:t.popup.closeOnHover,children:[n.vertices&&n.vertices.length&&e.jsx("svg",{height:"".concat(p,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(d," ").concat(p),width:"".concat(d,"px"),children:e.jsx("polyline",{fill:"none",stroke:"transparent",strokeWidth:f||1,points:n.vertices.map((function(e){return"".concat(e.x-u[0],",").concat(u[3]-e.y)})).join(" ")})}),t.slot.children]}))}})},ge=function(t){var n=t.annotation,r=t.page,o=t.viewport,i=!1===n.hasPopup,a=D(n),c=A(n),l=!!(n.hasPopup||a||c),u=n.rect,d=u[2]-u[0],p=u[3]-u[1],f=n.borderStyle.width;return e.jsx(B,{annotation:n,hasPopup:i,ignoreBorder:!0,isRenderable:l,page:r,viewport:o,children:function(t){return e.jsxs("div",s({},t.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--square","data-annotation-id":n.id,onClick:t.popup.toggleOnClick,onMouseEnter:t.popup.openOnHover,onMouseLeave:t.popup.closeOnHover,children:[e.jsx("svg",{height:"".concat(p,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(d," ").concat(p),width:"".concat(d,"px"),children:e.jsx("rect",{height:p-f,fill:"none",stroke:"transparent",strokeWidth:f||1,x:f/2,y:f/2,width:d-f})}),t.slot.children]}))}})},he=function(t){var n=t.annotation,r=t.page,o=t.viewport,i=!1===n.hasPopup,a=D(n),c=A(n),l=!!(n.hasPopup||a||c);return e.jsx(B,{annotation:n,hasPopup:i,ignoreBorder:!0,isRenderable:l,page:r,viewport:o,children:function(t){return e.jsx("div",s({},t.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--squiggly","data-annotation-id":n.id,onClick:t.popup.toggleOnClick,onMouseEnter:t.popup.openOnHover,onMouseLeave:t.popup.closeOnHover,children:t.slot.children}))}})},ve=function(t){var n=t.annotation,r=t.page,o=t.viewport,i=!1===n.hasPopup,a=D(n),c=A(n),l=!!(n.hasPopup||a||c);return e.jsx(B,{annotation:n,hasPopup:i,ignoreBorder:!0,isRenderable:l,page:r,viewport:o,children:function(t){return e.jsx("div",s({},t.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--stamp","data-annotation-id":n.id,onClick:t.popup.toggleOnClick,onMouseEnter:t.popup.openOnHover,onMouseLeave:t.popup.closeOnHover,children:t.slot.children}))}})},xe=function(t){var n=t.annotation,r=t.page,o=t.viewport,i=!1===n.hasPopup,a=D(n),c=A(n),l=!!(n.hasPopup||a||c);return e.jsx(B,{annotation:n,hasPopup:i,ignoreBorder:!0,isRenderable:l,page:r,viewport:o,children:function(t){return e.jsx("div",s({},t.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--strike-out","data-annotation-id":n.id,onClick:t.popup.toggleOnClick,onMouseEnter:t.popup.openOnHover,onMouseLeave:t.popup.closeOnHover,children:t.slot.children}))}})},me=function(t){var r=t.children,o=t.ignoreDirection,i=void 0!==o&&o,a=t.size,c=void 0===a?24:a,s=n.useContext(E).direction,l=!i&&s===exports.TextDirection.RightToLeft,u="".concat(c||24,"px");return e.jsx("svg",{"aria-hidden":"true",className:O({"rpv-core__icon":!0,"rpv-core__icon--rtl":l}),focusable:"false",height:u,viewBox:"0 0 24 24",width:u,children:r})},we=function(){return e.jsx(me,{size:16,children:e.jsx("path",{d:"M23.5,0.499l-16.5,23l-6.5-6.5"})})},Pe=function(){return e.jsxs(me,{size:16,children:[e.jsx("path",{d:"M.5,16.5a1,1,0,0,0,1,1h2v4l4-4h15a1,1,0,0,0,1-1V3.5a1,1,0,0,0-1-1H1.5a1,1,0,0,0-1,1Z"}),e.jsx("path",{d:"M7.25,9.75A.25.25,0,1,1,7,10a.25.25,0,0,1,.25-.25"}),e.jsx("path",{d:"M12,9.75a.25.25,0,1,1-.25.25A.25.25,0,0,1,12,9.75"}),e.jsx("path",{d:"M16.75,9.75a.25.25,0,1,1-.25.25.25.25,0,0,1,.25-.25"})]})},Se=function(){return e.jsxs(me,{size:16,children:[e.jsx("path",{d:"M0.500 12.001 A11.500 11.500 0 1 0 23.500 12.001 A11.500 11.500 0 1 0 0.500 12.001 Z"}),e.jsx("path",{d:"M6.000 12.001 A6.000 6.000 0 1 0 18.000 12.001 A6.000 6.000 0 1 0 6.000 12.001 Z"}),e.jsx("path",{d:"M21.423 5.406L17.415 9.414"}),e.jsx("path",{d:"M14.587 6.585L18.607 2.565"}),e.jsx("path",{d:"M5.405 21.424L9.413 17.416"}),e.jsx("path",{d:"M6.585 14.588L2.577 18.596"}),e.jsx("path",{d:"M18.602 21.419L14.595 17.412"}),e.jsx("path",{d:"M17.419 14.58L21.428 18.589"}),e.jsx("path",{d:"M2.582 5.399L6.588 9.406"}),e.jsx("path",{d:"M9.421 6.581L5.412 2.572"})]})},be=function(){return e.jsxs(me,{size:16,children:[e.jsx("path",{d:"M4.000 18.500 A1.500 1.500 0 1 0 7.000 18.500 A1.500 1.500 0 1 0 4.000 18.500 Z"}),e.jsx("path",{d:"M20.5.5l-9.782,9.783a7,7,0,1,0,3,3L17,10h1.5V8.5L19,8h1.5V6.5L21,6h1.5V4.5l1-1V.5Z"})]})},ye=function(){return e.jsxs(me,{size:16,children:[e.jsx("path",{d:"M2.000 2.500 L22.000 2.500 L22.000 23.500 L2.000 23.500 Z"}),e.jsx("path",{d:"M6 4.5L6 0.5"}),e.jsx("path",{d:"M18 4.5L18 0.5"}),e.jsx("path",{d:"M10 4.5L10 0.5"}),e.jsx("path",{d:"M14 4.5L14 0.5"})]})},_e=function(){return e.jsxs(me,{size:16,children:[e.jsx("path",{d:"M17.5 0.498L17.5 23.498"}),e.jsx("path",{d:"M10.5 0.498L10.5 23.498"}),e.jsx("path",{d:"M23.5.5H6.5a6,6,0,0,0,0,12h4"})]})},Re=function(){return e.jsx(me,{size:16,children:e.jsx("path",{d:"M2.5 22.995L12 6.005 21.5 22.995 2.5 22.995z"})})},Me=function(t){var n=t.annotation,r=t.childAnnotation,o=t.page,i=t.viewport,a=!1===n.hasPopup,c=D(n),l=A(n),u=!!(n.hasPopup||c||l),d=n.name?n.name.toLowerCase():"";return e.jsx(B,{annotation:n,hasPopup:a,ignoreBorder:!1,isRenderable:u,page:o,viewport:i,children:function(t){return e.jsxs(e.Fragment,{children:[e.jsxs("div",s({},t.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--text","data-annotation-id":n.id,onClick:t.popup.toggleOnClick,onMouseEnter:t.popup.openOnHover,onMouseLeave:t.popup.closeOnHover,children:[d&&e.jsxs("div",{className:"rpv-core__annotation-text-icon",children:["check"===d&&e.jsx(we,{}),"comment"===d&&e.jsx(Pe,{}),"help"===d&&e.jsx(Se,{}),"insert"===d&&e.jsx(Re,{}),"key"===d&&e.jsx(be,{}),"note"===d&&e.jsx(ye,{}),("newparagraph"===d||"paragraph"===d)&&e.jsx(_e,{})]}),t.slot.children]})),r&&r.annotationType===exports.AnnotationType.Popup&&t.popup.opened&&e.jsx(U,{annotation:r,page:o,viewport:i})]})}})},Ce=function(t){var n=t.annotation,r=t.page,o=t.viewport,i=!1===n.hasPopup,a=D(n),c=A(n),l=!!(n.hasPopup||a||c);return e.jsx(B,{annotation:n,hasPopup:i,ignoreBorder:!0,isRenderable:l,page:r,viewport:o,children:function(t){return e.jsx("div",s({},t.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--underline","data-annotation-id":n.id,onClick:t.popup.toggleOnClick,onMouseEnter:t.popup.openOnHover,onMouseLeave:t.popup.closeOnHover,children:t.slot.children}))}})},ke=function(t){var o=t.annotations,i=t.doc,a=t.outlines,c=t.page,s=t.pageIndex,l=t.plugins,u=t.rotation,d=t.scale,p=t.onExecuteNamedAction,f=t.onJumpFromLinkAnnotation,g=t.onJumpToDest,h=n.useRef(),v=c.getViewport({rotation:u,scale:d}).clone({dontFlip:!0}),x=o.filter((function(e){return!e.parentId}));return r((function(){var e=h.current;e&&l.forEach((function(t){t.onAnnotationLayerRender&&t.onAnnotationLayerRender({annotations:x,container:e,pageIndex:s,rotation:u,scale:d})}))}),[]),e.jsx("div",{ref:h,className:"rpv-core__annotation-layer","data-testid":"core__annotation-layer-".concat(s),children:x.map((function(t){var r=o.find((function(e){return e.parentId===t.id}));switch(t.annotationType){case exports.AnnotationType.Caret:return e.jsx(W,{annotation:t,page:c,viewport:v},t.id);case exports.AnnotationType.Circle:return e.jsx(q,{annotation:t,page:c,viewport:v},t.id);case exports.AnnotationType.FileAttachment:return e.jsx(Z,{annotation:t,page:c,viewport:v},t.id);case exports.AnnotationType.FreeText:return e.jsx(J,{annotation:t,page:c,viewport:v},t.id);case exports.AnnotationType.Highlight:return e.jsx(G,{annotation:t,childAnnotation:r,page:c,viewport:v},t.id);case exports.AnnotationType.Ink:return e.jsx(Y,{annotation:t,page:c,viewport:v},t.id);case exports.AnnotationType.Line:return e.jsx(K,{annotation:t,page:c,viewport:v},t.id);case exports.AnnotationType.Link:return e.jsx(de,{annotation:t,annotationContainerRef:h,doc:i,outlines:a,page:c,pageIndex:s,scale:d,viewport:v,onExecuteNamedAction:p,onJumpFromLinkAnnotation:f,onJumpToDest:g},t.id);case exports.AnnotationType.Polygon:return e.jsx(pe,{annotation:t,page:c,viewport:v},t.id);case exports.AnnotationType.Polyline:return e.jsx(fe,{annotation:t,page:c,viewport:v},t.id);case exports.AnnotationType.Popup:return e.jsx(U,{annotation:t,page:c,viewport:v},t.id);case exports.AnnotationType.Square:return e.jsx(ge,{annotation:t,page:c,viewport:v},t.id);case exports.AnnotationType.Squiggly:return e.jsx(he,{annotation:t,page:c,viewport:v},t.id);case exports.AnnotationType.Stamp:return e.jsx(ve,{annotation:t,page:c,viewport:v},t.id);case exports.AnnotationType.StrikeOut:return e.jsx(xe,{annotation:t,page:c,viewport:v},t.id);case exports.AnnotationType.Text:return e.jsx(Me,{annotation:t,childAnnotation:r,page:c,viewport:v},t.id);case exports.AnnotationType.Underline:return e.jsx(Ce,{annotation:t,page:c,viewport:v},t.id);default:return e.jsx(n.Fragment,{},t.id)}}))})},je=function(){var e=n.useRef(!1);return n.useEffect((function(){return e.current=!0,function(){e.current=!1}}),[]),e},Te=function(t){var r=t.page,o=t.renderAnnotations,i=je(),a=n.useState({loading:!0,annotations:[]}),c=a[0],s=a[1];return n.useEffect((function(){r.getAnnotations({intent:"display"}).then((function(e){i.current&&s({loading:!1,annotations:e})}))}),[]),c.loading?e.jsx(e.Fragment,{}):o(c.annotations)},Le=function(t){var n=t.doc,r=t.outlines,o=t.page,i=t.pageIndex,a=t.plugins,c=t.rotation,s=t.scale,l=t.onExecuteNamedAction,u=t.onJumpFromLinkAnnotation,d=t.onJumpToDest;return e.jsx(Te,{page:o,renderAnnotations:function(t){return e.jsx(ke,{annotations:t,doc:n,outlines:r,page:o,pageIndex:i,plugins:a,rotation:c,scale:s,onExecuteNamedAction:l,onJumpFromLinkAnnotation:u,onJumpToDest:d})}})},Ee=function(t){var r=t.size,i=void 0===r?"4rem":r,a=t.testId,c=n.useState(!1),l=c[0],u=c[1],d=a?{"data-testid":a}:{},p=o({onVisibilityChanged:function(e){u(e.isVisible)}});return e.jsx("div",s({},d,{className:O({"rpv-core__spinner":!0,"rpv-core__spinner--animating":l}),ref:p,style:{height:i,width:i}}))};exports.ViewMode=void 0,(X=exports.ViewMode||(exports.ViewMode={})).DualPage="DualPage",X.DualPageWithCover="DualPageWithCover",X.SinglePage="SinglePage",exports.LayerRenderStatus=void 0,(Q=exports.LayerRenderStatus||(exports.LayerRenderStatus={}))[Q.PreRender=0]="PreRender",Q[Q.DidRender=1]="DidRender";var Oe,Fe=function(e,t){var n=e%t;return 0===n?e:Math.floor(e-n)},Ie=function(t){var o=t.canvasLayerRef,i=t.height,a=t.page,c=t.pageIndex,s=t.plugins,l=t.rotation,u=t.scale,d=t.width,p=t.onRenderCanvasCompleted,f=n.useRef();return r((function(){var e=f.current;e&&e.cancel();var t=o.current;t.removeAttribute("data-testid"),s.forEach((function(e){e.onCanvasLayerRender&&e.onCanvasLayerRender({ele:t,pageIndex:c,rotation:l,scale:u,status:exports.LayerRenderStatus.PreRender})}));var n=a.getViewport({rotation:l,scale:u}),r=window.devicePixelRatio||1,i=Math.sqrt(16777216/(n.width*n.height)),d=r>i;d?t.style.transform="scale(1, 1)":t.style.removeProperty("transform");var g=Math.min(i,r),h=function(e,t){var n,r;if(Math.floor(e)===e)return[e,1];var o=1/e;if(o>t)return[1,t];if(Math.floor(o)===o)return[1,o];for(var i=e>1?o:e,a=0,c=1,s=1,l=1;;){var u=a+s,d=c+l;if(d>t)break;i<=u/d?(s=(n=[u,d])[0],l=n[1]):(a=(r=[u,d])[0],c=r[1])}return i<(a/c+s/l)/2?i===e?[a,c]:[c,a]:i===e?[s,l]:[l,s]}(g,8),v=h[0],x=h[1];t.width=Fe(n.width*g,v),t.height=Fe(n.height*g,v),t.style.width="".concat(Fe(n.width,x),"px"),t.style.height="".concat(Fe(n.height,x),"px"),t.hidden=!0;var m=t.getContext("2d",{alpha:!1}),w=d||1!==r?[g,0,0,g,0,0]:null;return f.current=a.render({canvasContext:m,transform:w,viewport:n}),f.current.promise.then((function(){t.hidden=!1,t.setAttribute("data-testid","core__canvas-layer-".concat(c)),s.forEach((function(e){e.onCanvasLayerRender&&e.onCanvasLayerRender({ele:t,pageIndex:c,rotation:l,scale:u,status:exports.LayerRenderStatus.DidRender})})),p()}),(function(){p()})),function(){t&&(t.width=0,t.height=0)}}),[]),e.jsx("div",{className:"rpv-core__canvas-layer",style:{height:"".concat(i,"px"),width:"".concat(d,"px")},children:e.jsx("canvas",{ref:o})})},Ae=n.createContext({}),De=function(t){var o=t.height,i=t.page,a=t.rotation,c=t.scale,s=t.width,l=n.useContext(Ae).pdfJsApiProvider,u=n.useRef();return r((function(){var e=u.current,t=i.getViewport({rotation:a,scale:c});i.getOperatorList().then((function(n){!function(){var e=u.current;e&&(e.innerHTML="")}(),new l.SVGGraphics(i.commonObjs,i.objs).getSVG(n,t).then((function(t){t.style.height="".concat(o,"px"),t.style.width="".concat(s,"px"),e.appendChild(t)}))}))}),[]),e.jsx("div",{className:"rpv-core__svg-layer",ref:u})},Ve=function(t){var o=t.containerRef,i=t.page,a=t.pageIndex,c=t.plugins,s=t.rotation,l=t.scale,u=t.onRenderTextCompleted,d=n.useContext(Ae).pdfJsApiProvider,p=n.useRef(),f=function(){var e=o.current;e&&([].slice.call(e.querySelectorAll(".rpv-core__text-layer-text")).forEach((function(t){return e.removeChild(t)})),[].slice.call(e.querySelectorAll('br[role="presentation"]')).forEach((function(t){return e.removeChild(t)})))};return r((function(){var e=p.current;e&&e.cancel();var t=o.current;if(t){t.removeAttribute("data-testid");var n=i.getViewport({rotation:s,scale:l});return c.forEach((function(e){e.onTextLayerRender&&e.onTextLayerRender({ele:t,pageIndex:a,scale:l,status:exports.LayerRenderStatus.PreRender})})),i.getTextContent().then((function(e){f(),t.style.setProperty("--scale-factor","".concat(l)),p.current=d.renderTextLayer({container:t,textContent:e,textContentSource:e,viewport:n}),p.current.promise.then((function(){t.setAttribute("data-testid","core__text-layer-".concat(a)),[].slice.call(t.children).forEach((function(e){e.classList.contains("rpv-core__text-layer-text--not")||e.classList.add("rpv-core__text-layer-text")})),c.forEach((function(e){e.onTextLayerRender&&e.onTextLayerRender({ele:t,pageIndex:a,scale:l,status:exports.LayerRenderStatus.DidRender})})),u()}),(function(){t.removeAttribute("data-testid"),u()}))})),function(){var e;f(),null===(e=p.current)||void 0===e||e.cancel()}}}),[]),e.jsx("div",{className:"rpv-core__text-layer",ref:o})},Ne=function(t){var r=t.doc,o=t.measureRef,i=t.outlines,a=t.pageIndex,c=t.pageRotation,s=t.pageSize,l=t.plugins,u=t.renderPage,d=t.renderQueueKey,p=t.rotation,f=t.scale,g=t.shouldRender,h=t.viewMode,v=t.onExecuteNamedAction,x=t.onJumpFromLinkAnnotation,m=t.onJumpToDest,w=t.onRenderCompleted,P=t.onRotatePage,S=je(),b=n.useState(null),y=b[0],_=b[1],R=n.useState(!1),M=R[0],C=R[1],k=n.useState(!1),j=k[0],T=k[1],L=n.useRef(),E=n.useRef(),F=Math.abs(p+c)%180==0,I=s.pageWidth*f,A=s.pageHeight*f,D=F?I:A,V=F?A:I,N=(s.rotation+p+c)%360,z=n.useRef(0),H=u||function(t){return e.jsxs(e.Fragment,{children:[t.canvasLayer.children,t.textLayer.children,t.annotationLayer.children]})};return n.useEffect((function(){_(null),C(!1),T(!1)}),[c,p,f]),n.useEffect((function(){g&&S.current&&!y&&oe(r,a).then((function(e){S.current&&(z.current=d,_(e))}))}),[g,y]),n.useEffect((function(){M&&j&&(d!==z.current?(_(null),C(!1),T(!1)):w(a))}),[M,j]),e.jsx("div",{className:O({"rpv-core__page-layer":!0,"rpv-core__page-layer--dual":h===exports.ViewMode.DualPage,"rpv-core__page-layer--dual-cover":h===exports.ViewMode.DualPageWithCover,"rpv-core__page-layer--single":h===exports.ViewMode.SinglePage}),"data-testid":"core__page-layer-".concat(a),ref:o,style:{height:"".concat(V,"px"),width:"".concat(D,"px")},children:y?e.jsxs(e.Fragment,{children:[H({annotationLayer:{attrs:{},children:e.jsx(Le,{doc:r,outlines:i,page:y,pageIndex:a,plugins:l,rotation:N,scale:f,onExecuteNamedAction:v,onJumpFromLinkAnnotation:x,onJumpToDest:m})},canvasLayer:{attrs:{},children:e.jsx(Ie,{canvasLayerRef:L,height:V,page:y,pageIndex:a,plugins:l,rotation:N,scale:f,width:D,onRenderCanvasCompleted:function(){S.current&&C(!0)}})},canvasLayerRendered:M,doc:r,height:V,pageIndex:a,rotation:N,scale:f,svgLayer:{attrs:{},children:e.jsx(De,{height:V,page:y,rotation:N,scale:f,width:D})},textLayer:{attrs:{},children:e.jsx(Ve,{containerRef:E,page:y,pageIndex:a,plugins:l,rotation:N,scale:f,onRenderTextCompleted:function(){S.current&&T(!0)}})},textLayerRendered:j,width:D,markRendered:w,onRotatePage:function(e){return P(a,e)}}),l.map((function(t,o){return t.renderPageLayer?e.jsx(n.Fragment,{children:t.renderPageLayer({canvasLayerRef:L,canvasLayerRendered:M,doc:r,height:V,pageIndex:a,rotation:N,scale:f,textLayerRef:E,textLayerRendered:j,width:D})},o):e.jsx(n.Fragment,{},o)}))]}):e.jsx(Ee,{testId:"core__page-layer-loading-".concat(a)})})},ze={core:{askingPassword:{requirePasswordToOpen:"This document requires a password to open",submit:"Submit"},wrongPassword:{tryAgain:"The password is wrong. Please try again"},pageLabel:"Page {{pageIndex}}"}},He=n.createContext({l10n:ze,setL10n:function(){}});exports.RotateDirection=void 0,(Oe=exports.RotateDirection||(exports.RotateDirection={})).Backward="Backward",Oe.Forward="Forward";var Be,We=function(e,t){return e.reduce((function(e,n,r){return r%t?e[e.length-1].push(n):e.push([n]),e}),[])},qe=function(e,t){var n=t.rect;return e.height!==n.height||e.width!==n.width?n:e};!function(e){e.Horizontal="Horizontal",e.Vertical="Vertical",e.Both="Both"}(Be||(Be={}));var Ze,Je=function(e){return 1-Math.pow(1-e,4)},Ue=1e-4,Ge={left:0,top:0},Ye={capture:!1,passive:!0},Ke=function(e){var t=e.elementRef,o=e.enableSmoothScroll,i=e.isRtl,a=e.scrollDirection,c=e.onSmoothScroll,s=n.useState(Ge),l=s[0],u=s[1],d=n.useState(t.current),p=d[0],f=d[1],g=i?-1:1,h=n.useRef(a);h.current=a;var v=n.useRef(Ge),x=n.useRef(!0),m=n.useCallback((function(){x.current=!0,o&&u(v.current),c(!1)}),[]),w=n.useCallback((function(){if(p){switch(h.current){case Be.Horizontal:v.current={left:g*p.scrollLeft,top:0};break;case Be.Both:v.current={left:g*p.scrollLeft,top:p.scrollTop};break;case Be.Vertical:default:v.current={left:0,top:p.scrollTop}}o&&!x.current||u(v.current)}}),[p]);r((function(){f(t.current)})),r((function(){if(p)return p.addEventListener("scroll",w,Ye),function(){p.removeEventListener("scroll",w,Ye)}}),[p]);var P=n.useCallback((function(e,n){var r=t.current;if(!r)return Promise.resolve();var o={left:0,top:0};switch(h.current){case Be.Horizontal:o.left=g*e.left;break;case Be.Both:o.left=g*e.left,o.top=e.top;break;case Be.Vertical:default:o.top=e.top}return n?(x.current=!1,c(!0),new Promise((function(e,t){!function(e,t,n,r,o,i){void 0===o&&(o=function(e){return e}),void 0===i&&(i=function(){});var a=0,c=0,s=!1;switch(t){case Be.Horizontal:c=e.scrollLeft,a=0;case Be.Both:c=e.scrollLeft,a=e.scrollTop;break;case Be.Vertical:default:c=0,a=e.scrollTop}var l=function(){s||(s=!0,e.scrollLeft=n.left,e.scrollTop=n.top,i())};if(Math.abs(a-n.top)<=Ue&&t===Be.Vertical)l();else if(Math.abs(c-n.left)<=Ue&&t===Be.Horizontal)l();else{var u,d=-1,p=c-n.left,f=a-n.top,g=function(i){-1===d&&(d=i);var h=i-d,v=Math.min(h/r,1),x=o(v),m={left:c-p*x,top:a-f*x};switch(t){case Be.Horizontal:e.scrollLeft=m.left;break;case Be.Both:e.scrollLeft=m.left,e.scrollTop=m.top;break;case Be.Vertical:default:e.scrollTop=m.top}Math.abs(m.top-n.top)<=Ue&&Math.abs(m.left-n.left)<=Ue&&!s&&(window.cancelAnimationFrame(u),l()),h<r?u=window.requestAnimationFrame(g):window.cancelAnimationFrame(u)};u=window.requestAnimationFrame(g)}}(r,h.current,o,400,Je,(function(){m(),e()}))}))):new Promise((function(e,t){switch(h.current){case Be.Horizontal:r.scrollLeft=o.left;break;case Be.Both:r.scrollLeft=o.left,r.scrollTop=o.top;break;case Be.Vertical:default:r.scrollTop=o.top}e()}))}),[t]);return{scrollOffset:l,scrollTo:P}},Xe=function(e,t,n){return Math.max(e,Math.min(n,t))},Qe=function(e,t){if(t!==exports.ViewMode.DualPageWithCover)return 0;if(!function(e){var t=e.length;if(1===t)return!1;for(var n=1;n<t;n++)if(e[n].height!==e[0].height||e[n].width!==e[0].width)return!0;return!1}(e))return 2*e[0].width;var n=We(e.slice(1),2).map((function(e){return 2===e.length?e[0].width+e[1].width:e[0].width})),r=[e[0].width].concat(n);return Math.max.apply(Math,r)},$e={left:0,top:0},et={left:0,top:0},tt={left:0,top:0},nt={left:0,top:0},rt={height:0,width:0},ot={left:0,top:0},it="data-virtual-index",at=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1],ct=function(e){var t=e.enableSmoothScroll,o=e.isRtl,i=e.numberOfItems,a=e.parentRef,c=e.setRenderRange,l=e.sizes,u=e.scrollMode,d=e.viewMode,p=e.onVisibilityChanged,f=n.useState(!1),g=f[0],h=f[1],v=n.useCallback((function(e){return h(e)}),[]),x=n.useRef(u);x.current=u;var m=n.useRef(d);m.current=d;var w=u===exports.ScrollMode.Wrapped||d===exports.ViewMode.DualPageWithCover||d===exports.ViewMode.DualPage?Be.Both:u===exports.ScrollMode.Horizontal?Be.Horizontal:Be.Vertical,P=Ke({elementRef:a,enableSmoothScroll:t,isRtl:o,scrollDirection:w,onSmoothScroll:v}),S=P.scrollOffset,b=P.scrollTo,y=function(e){var t=e.elementRef,o=n.useState(t.current),i=o[0],a=o[1],c=n.useRef(!1),s=n.useReducer(qe,{height:0,width:0}),l=s[0],u=s[1];return r((function(){t.current!==i&&a(t.current)})),r((function(){if(i&&!c.current){c.current=!0;var e=i.getBoundingClientRect(),t=e.height,n=e.width;u({rect:{height:t,width:n}})}}),[i]),n.useEffect((function(){if(i){var e=new ResizeObserver((function(e,t){e.forEach((function(e){if(e.target===i){var t=e.contentRect,n=t.height,r=t.width;u({rect:{height:n,width:r}})}}))}));return e.observe(i),function(){e.unobserve(i)}}}),[i]),l}({elementRef:a}),_=n.useRef({scrollOffset:ot,measurements:[]});_.current.scrollOffset=S;var R=n.useMemo((function(){return Array(i).fill(-1)}),[]),M=n.useState(R),C=M[0],k=M[1],j=n.useMemo((function(){var e=new IntersectionObserver((function(e){e.forEach((function(e){var t=e.isIntersecting?e.intersectionRatio:-1,n=e.target.getAttribute(it);if(n){var r=parseInt(n,10);0<=r&&r<i&&(p(r,t),k((function(e){return e[r]=t,function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}([],e,!0)})))}}))}),{threshold:at});return e}),[]),T=n.useMemo((function(){return u===exports.ScrollMode.Page&&d===exports.ViewMode.SinglePage?function(e,t,n){for(var r=[],o=0;o<e;o++){var i={height:Math.max(t.height,n[o].height),width:Math.max(t.width,n[o].width)},a=0===o?nt:r[o-1].end,c={left:a.left+i.width,top:a.top+i.height};r[o]={index:o,start:a,size:i,end:c,visibility:-1}}return r}(i,y,l):d===exports.ViewMode.DualPageWithCover?function(e,t,n,r){for(var o=[],i=0,a=0,c=tt,s=0;s<e;s++){var l=0===s?{height:r===exports.ScrollMode.Page?Math.max(t.height,n[s].height):n[s].height,width:r===exports.ScrollMode.Page?Math.max(t.width,n[s].width):n[s].width}:{height:r===exports.ScrollMode.Page?Math.max(t.height,n[s].height):n[s].height,width:Math.max(t.width/2,n[s].width)};r===exports.ScrollMode.Page?c=0===s?tt:{left:s%2==0?l.width:0,top:Math.floor((s-1)/2)*l.height+o[0].end.top}:0===s?(c=tt,i=n[0].height,a=0):s%2==1?(c={left:0,top:i+=a},a=s===e-1?n[s].height:Math.max(n[s].height,n[s+1].height)):c={left:o[s-1].end.left,top:i};var u={left:c.left+l.width,top:c.top+l.height};o[s]={index:s,start:c,size:l,end:u,visibility:-1}}return o}(i,y,l,u):d===exports.ViewMode.DualPage?function(e,t,n,r){for(var o=[],i=0,a=0,c=et,s=0;s<e;s++){var l={height:r===exports.ScrollMode.Page?Math.max(t.height,n[s].height):n[s].height,width:Math.max(t.width/2,n[s].width)};r===exports.ScrollMode.Page?c={left:s%2==0?0:l.width,top:Math.floor(s/2)*l.height}:s%2==0?(c={left:0,top:i+=a},a=s===e-1?n[s].height:Math.max(n[s].height,n[s+1].height)):c={left:o[s-1].end.left,top:i};var u={left:c.left+l.width,top:c.top+l.height};o[s]={index:s,start:c,size:l,end:u,visibility:-1}}return o}(i,y,l,u):function(e,t,n,r){for(var o=[],i=0,a={left:0,top:0},c=0,s=$e,l=0;l<e;l++){var u=n[l];if(0===l)i=u.width,a={left:0,top:0},c=u.height;else switch(r){case exports.ScrollMode.Wrapped:(i+=u.width)<t.width?(s={left:o[l-1].end.left,top:a.top},c=Math.max(c,u.height)):(i=u.width,a={left:(s={left:a.left,top:a.top+c}).left,top:s.top},c=u.height);break;case exports.ScrollMode.Horizontal:case exports.ScrollMode.Vertical:default:s=o[l-1].end}var d={left:s.left+u.width,top:s.top+u.height};o[l]={index:l,start:s,size:u,end:d,visibility:-1}}return o}(i,y,l,u)}),[u,l,d,y]),L=T[i-1]?{height:T[i-1].end.top,width:T[i-1].end.left}:rt;_.current.measurements=T;var E=n.useMemo((function(){var e=function(e,t,n,r){var o=0;switch(e){case Be.Horizontal:o=r.left;break;case Be.Vertical:default:o=r.top}var i=t.length-1,a=function(e,t,n,r){for(;e<=t;){var o=(e+t)/2|0,i=r(o);if(i<n)e=o+1;else{if(!(i>n))return o;t=o-1}}return e>0?e-1:0}(0,i,o,(function(n){switch(e){case Be.Horizontal:return t[n].start.left;case Be.Both:case Be.Vertical:default:return t[n].start.top}}));if(e===Be.Both)for(var c=t[a].start.top;a-1>=0&&t[a-1].start.top===c&&t[a-1].start.left>=r.left;)a--;for(var s=a;s<=i;){var l={top:t[s].start.top-r.top,left:t[s].start.left-r.left},u={height:n.height-l.top,width:n.width-l.left};if(e===Be.Horizontal&&u.width<0)break;if(e===Be.Vertical&&u.height<0)break;if(e===Be.Both&&(u.width<0||u.height<0))break;s++}return{start:a,end:s}}(w,T,y,S),t=e.start,n=e.end,r=C.slice(Xe(0,i,t),Xe(0,i,n)),o=t+r.reduce((function(e,t,n,r){return t>r[e]?n:e}),0),a=o=Xe(0,i-1,o),s=c({endPage:n,numPages:i,startPage:t}),l=s.startPage,u=s.endPage;switch(l=Math.max(l,0),u=Math.min(u,i-1),d){case exports.ViewMode.DualPageWithCover:o>0&&(a=o%2==1?o:o-1),l=0===l?0:l%2==1?l:l-1,i-(u=u%2==1?u-1:u)<=2&&(u=i-1);break;case exports.ViewMode.DualPage:a=o%2==0?o:o-1,l=l%2==0?l:l-1,u=u%2==1?u:u-1;break;case exports.ViewMode.SinglePage:default:a=o}return{startPage:l,endPage:u,maxVisbilityIndex:a}}),[T,y,S,d,C]),O=E.startPage,F=E.endPage,I=E.maxVisbilityIndex,A=n.useMemo((function(){for(var e=[],t=function(t){var n=T[t],r=s(s({},n),{visibility:void 0!==C[t]?C[t]:-1,measureRef:function(e){e&&(e.setAttribute(it,"".concat(t)),j.observe(e))}});e.push(r)},n=O;n<=F;n++)t(n);return e}),[O,F,C,T]),D=n.useCallback((function(e,n){var r=_.current.measurements[Xe(0,i-1,e)],o=x.current===exports.ScrollMode.Page?ot:n;return r?b({left:o.left+r.start.left,top:o.top+r.start.top},t):Promise.resolve()}),[b,t]),V=n.useCallback((function(e,t){var n=_.current.measurements,r=n[e].start,o=n.find((function(e){return e.start.top-r.top>1e-12}));if(!o)return Promise.resolve();var i=o.index;switch(m.current){case exports.ViewMode.DualPage:i=i%2==0?i:i+1;break;case exports.ViewMode.DualPageWithCover:i=i%2==1?i:i+1}return D(i,t)}),[]),N=n.useCallback((function(e,t){for(var n=_.current.measurements,r=n[e].start,o=e,a=!1,c=i-1;c>=0;c--)if(r.top-n[c].start.top>1e-12){a=!0,o=n[c].index;break}if(!a)return Promise.resolve();switch(m.current){case exports.ViewMode.DualPage:o=o%2==0?o:o-1;break;case exports.ViewMode.DualPageWithCover:o=o%2==0?o-1:o}return o===e&&(o=e-1),D(o,t)}),[]),z=n.useCallback((function(e,t){if(m.current===exports.ViewMode.DualPageWithCover||m.current===exports.ViewMode.DualPage)return V(e,t);switch(x.current){case exports.ScrollMode.Wrapped:return V(e,t);case exports.ScrollMode.Horizontal:case exports.ScrollMode.Vertical:default:return D(e+1,t)}}),[]),H=n.useCallback((function(e,t){if(m.current===exports.ViewMode.DualPageWithCover||m.current===exports.ViewMode.DualPage)return N(e,t);switch(x.current){case exports.ScrollMode.Wrapped:return N(e,t);case exports.ScrollMode.Horizontal:case exports.ScrollMode.Vertical:default:return D(e-1,t)}}),[]),B=n.useCallback((function(){return function(e,t){switch(t){case exports.ScrollMode.Horizontal:return{position:"relative",height:"100%",width:"".concat(e.width,"px")};case exports.ScrollMode.Vertical:default:return{position:"relative",height:"".concat(e.height,"px"),width:"100%"}}}(L,x.current)}),[L]),W=n.useCallback((function(e){return function(e,t,n){return n!==exports.ScrollMode.Page?{}:{height:"".concat(t.height,"px"),width:"100%",position:"absolute",top:0,transform:"translateY(".concat(e.start.top,"px)")}}(e,y,x.current)}),[y]),q=n.useCallback((function(e){return function(e,t,n,r,o){var i,a,c,s,l,u,d,p=t?"right":"left",f=t?-1:1,g=n.length,h=e.start.left*f,v=e.size,x=v.height,m=v.width;if(r===exports.ViewMode.DualPageWithCover){var w=o===exports.ScrollMode.Page?0:e.start.top;return 0===e.index||g%2==0&&e.index===g-1?((i={height:"".concat(x,"px"),minWidth:"".concat(Qe(n,r),"px"),width:"100%"})[p]=0,i.position="absolute",i.top=0,i.transform="translate(".concat(h,"px, ").concat(w,"px)"),i):((a={height:"".concat(x,"px"),width:"".concat(m,"px")})[p]=0,a.position="absolute",a.top=0,a.transform="translate(".concat(h,"px, ").concat(w,"px)"),a)}if(r===exports.ViewMode.DualPage)return(c={height:"".concat(x,"px"),width:"".concat(m,"px")})[p]=0,c.position="absolute",c.top=0,c.transform="translate(".concat(h,"px, ").concat(o===exports.ScrollMode.Page?0:e.start.top,"px)"),c;switch(o){case exports.ScrollMode.Horizontal:return(s={height:"100%",width:"".concat(m,"px")})[p]=0,s.position="absolute",s.top=0,s.transform="translateX(".concat(h,"px)"),s;case exports.ScrollMode.Page:return(l={height:"".concat(x,"px"),width:"".concat(m,"px")})[p]=0,l.position="absolute",l.top=0,l;case exports.ScrollMode.Wrapped:return(u={height:"".concat(x,"px"),width:"".concat(m,"px")})[p]=0,u.position="absolute",u.top=0,u.transform="translate(".concat(h,"px, ").concat(e.start.top,"px)"),u;case exports.ScrollMode.Vertical:default:return(d={height:"".concat(x,"px"),width:"100%"})[p]=0,d.position="absolute",d.top=0,d.transform="translateY(".concat(e.start.top,"px)"),d}}(e,o,l,m.current,x.current)}),[o,l]),Z=n.useCallback((function(e,t){var n=_.current,r=n.measurements,o=n.scrollOffset,a=r[Xe(0,i-1,t)];if(a){var c=x.current===exports.ScrollMode.Page?{left:a.start.left,top:a.start.top}:{left:o.left*e,top:o.top*e};return b(c,!1)}return Promise.resolve()}),[]);return n.useEffect((function(){return function(){j.disconnect()}}),[]),{boundingClientRect:y,isSmoothScrolling:g,startPage:O,endPage:F,maxVisbilityIndex:I,virtualItems:A,getContainerStyles:B,getItemContainerStyles:W,getItemStyles:q,scrollToItem:D,scrollToNextItem:z,scrollToPreviousItem:H,zoom:Z}},st=function(e,t,n,r,o,i){var a=n;switch(!0){case o===exports.ViewMode.DualPageWithCover&&i>=3:case o===exports.ViewMode.DualPage&&i>=3:a=2*n;break;default:a=n}switch(r){case exports.SpecialZoomLevel.ActualSize:return 1;case exports.SpecialZoomLevel.PageFit:return Math.min((e.clientWidth-17)/a,(e.clientHeight-16)/t);case exports.SpecialZoomLevel.PageWidth:return(e.clientWidth-17)/a}},lt=function(e){var t,r,o=e.getCurrentPage,i=(t=50,r=n.useRef([]),n.useEffect((function(){return function(){r.current=[]}}),[]),{push:function(e){var n=r.current;n.length+1>t&&n.shift(),n.push(e),r.current=n},map:function(e){return r.current.map((function(t){return e(t)}))},pop:function(){var e=r.current;if(0===e.length)return null;var t=e.pop();return r.current=e,t}}),a=function(e){var t=n.useRef([]);return n.useEffect((function(){return function(){t.current=[]}}),[]),{dequeue:function(){var e=t.current;if(0===e.length)return null;var n=e.shift();return t.current=e,n||null},enqueue:function(n){var r=t.current;r.length+1>e&&r.pop(),t.current=[n].concat(r)},map:function(e){return t.current.map((function(t){return e(t)}))}}}(50),c=function(){var e=a.dequeue();return e&&i.push(e),e&&e.pageIndex===o()?c():e},s=function(){var e=i.pop();return e&&a.enqueue(e),e&&e.pageIndex===o()?s():e},l=n.useCallback((function(e){i.push(e)}),[]);return{getNextDestination:c,getPreviousDestination:s,markVisitedDestination:l}},ut=function(e){var t=[];return e.map((function(e){t=t.concat(e).concat(function(e){var t=[];return e.items&&e.items.length>0&&(t=t.concat(ut(e.items))),t}(e))})),t},dt={buildPageStyles:function(){return{}},transformSize:function(e){return e.size}},pt={left:0,top:0};!function(e){e.CalculatePageSizes="CalculatePageSizes",e.JumpToInitialPage="JumpToInitialPage",e.RenderNextPage="RenderNextPage",e.RenderPageCompleted="RenderPageCompleted",e.Rotate="Rotate",e.RotatePage="RotatePage",e.SetCurrentPage="SetCurrentPage",e.SwitchScrollMode="SwitchScrollMode",e.SwitchViewMode="SwitchViewMode",e.Zoom="Zoom"}(Ze||(Ze={}));var ft,gt=function(t){var o=t.currentFile,i=t.defaultScale,a=t.doc,c=t.enableSmoothScroll,l=t.estimatedPageSizes,u=t.initialPage,d=t.initialRotation,f=t.initialScale,g=t.pageLayout,h=t.plugins,v=t.renderPage,x=t.scrollMode,m=t.setRenderRange,w=t.viewMode,P=t.viewerState,S=t.onDocumentLoad,b=t.onOpenFile,y=t.onPageChange,_=t.onRotate,M=t.onRotatePage,C=t.onZoom,k=a.numPages,j=a.loadingTask.docId,L=n.useContext(He).l10n,F=n.useContext(E),I=F.direction===exports.TextDirection.RightToLeft,A=n.useRef(),D=n.useRef(),V=lt({getCurrentPage:function(){return W.current.pageIndex}}),N=n.useState(!1),z=N[0],H=N[1],B=function(e){var t=je(),r=n.useState([]),o=r[0],i=r[1];return n.useEffect((function(){e.getOutline().then((function(e){if(t.current&&null!==e){var n=ut(e);i(n)}}))}),[]),o}(a),W=n.useRef(P),q=n.useRef("string"==typeof i?i:null),Z=n.useRef(-1),J=n.useRef(-1),U=n.useRef(u),G=R({getCurrentPage:function(){return W.current.pageIndex},getCurrentScrollMode:function(){return W.current.scrollMode},jumpToPage:function(e){return be(e)},targetRef:D}),Y=n.useState(-1),K=Y[0],X=Y[1],Q=n.useState(0),$=Q[0],ne=Q[1],re=T({doc:a});n.useEffect((function(){return function(){ee.clear(),te.clear()}}),[j]);var ie=n.useMemo((function(){return Object.assign({},dt,g)}),[]),ae=n.useCallback((function(e,t){switch(t.actionType){case Ze.CalculatePageSizes:return e;case Ze.JumpToInitialPage:case Ze.RenderNextPage:return s(s({},e),{areSizesCalculated:!0,nextAction:t,pageSizes:t.pageSizes});case Ze.RenderPageCompleted:return e.areSizesCalculated?s(s({},e),{nextAction:{actionType:Ze.RenderNextPage,pageSizes:e.pageSizes,renderedPageIndex:t.pageIndex}}):s(s({},e),{nextAction:{actionType:Ze.CalculatePageSizes,renderedPageIndex:t.pageIndex}});case Ze.Rotate:var n=t.direction===exports.RotateDirection.Backward?-90:90,r=e.rotation,o=360===r||-360===r?n:r+n;return s(s({},e),{nextAction:t,rotation:o});case Ze.RotatePage:n=t.direction===exports.RotateDirection.Backward?-90:90;var i=e.pagesRotation,a=(i.has(t.pageIndex)?i.get(t.pageIndex):d)+n,c=i.set(t.pageIndex,a);return s(s({},e),{nextAction:s(s({},t),{finalRotation:a}),pagesRotation:c});case Ze.SetCurrentPage:return s(s({},e),{currentPage:t.pageIndex,nextAction:t});case Ze.SwitchScrollMode:return e.scrollMode===t.newScrollMode?e:s(s({},e),{nextAction:t,scrollMode:t.newScrollMode});case Ze.SwitchViewMode:return e.viewMode===t.newViewMode?e:s(s({},e),{nextAction:t,viewMode:t.newViewMode});case Ze.Zoom:var l=D.current,u=t.newScale,p=W.current.pageIndex;if(p<0||p>=k)return e;var f=e.pageSizes[p].pageHeight,g=e.pageSizes[p].pageWidth,h=l?"string"==typeof u?st(l,f,g,u,W.current.viewMode,k):u:1;return q.current="string"==typeof u?u:null,h===W.current.scale?e:s(s({},e),{nextAction:t,scale:h});default:return e}}),[]),ce=n.useReducer(ae,{areSizesCalculated:!1,currentPage:0,pagesRotation:new Map,pageSizes:l,rotation:d,scale:f,scrollMode:x,viewMode:w}),se=ce[0],le=ce[1];r((function(){if(se.nextAction)switch(se.nextAction.actionType){case Ze.CalculatePageSizes:ue(se.nextAction.renderedPageIndex);break;case Ze.JumpToInitialPage:be(u);break;case Ze.RenderNextPage:re.markRendered(se.nextAction.renderedPageIndex),Ae();break;case Ze.Rotate:var e=se.nextAction.direction;re.markNotRendered(),he(s(s({},W.current),{rotation:se.rotation})),_({direction:e,doc:a,rotation:se.rotation}),(o=W.current.pageIndex)>-1&&fe.scrollToItem(o,pt);break;case Ze.RotatePage:var t=se.nextAction.pageIndex;H((function(e){return!e})),he(s(s({},W.current),{pagesRotation:se.pagesRotation,rotatedPage:t})),M({direction:se.nextAction.direction,doc:a,pageIndex:t,rotation:se.nextAction.finalRotation}),re.markRendering(t),X(t);break;case Ze.SetCurrentPage:var n=W.current.pageIndex,r=se.currentPage;he(s(s({},W.current),{pageIndex:r})),r===n||fe.isSmoothScrolling||y({currentPage:r,doc:a}),re.setRange(se.nextAction.startPage,se.nextAction.endPage),Ae();break;case Ze.SwitchScrollMode:he(s(s({},W.current),{scrollMode:se.nextAction.newScrollMode})),(o=W.current.pageIndex)>-1&&fe.scrollToItem(o,pt).then((function(){G.fullScreenMode===exports.FullScreenMode.EnteredCompletely&&(c||re.markNotRendered(),Z.current=-1)}));break;case Ze.SwitchViewMode:var o;re.markNotRendered(),he(s(s({},W.current),{viewMode:se.nextAction.newViewMode})),(o=W.current.pageIndex)>-1&&fe.scrollToItem(o,pt);break;case Ze.Zoom:ne((function(e){return e+1})),re.markNotRendered();var i=W.current.scale;he(s(s({},W.current),{scale:se.scale})),C({doc:a,scale:se.scale}),fe.zoom(se.scale/i,W.current.pageIndex).then((function(){G.fullScreenMode===exports.FullScreenMode.EnteredCompletely&&(J.current=-1),Ae()}))}}),[se.nextAction]);var ue=function(e){var t=Array(a.numPages).fill(0).map((function(e,t){return new Promise((function(e){oe(a,t).then((function(t){var n=t.getViewport({scale:1});e({pageHeight:n.height,pageWidth:n.width,rotation:n.rotation})}))}))}));Promise.all(t).then((function(t){le(0===u?{actionType:Ze.RenderNextPage,renderedPageIndex:e,pageSizes:t}:{actionType:Ze.JumpToInitialPage,pageSizes:t})}))},de=n.useMemo((function(){return Array(k).fill(0).map((function(e,t){var n=se.pageSizes[t].pageHeight,r=se.pageSizes[t].pageWidth,o=Math.abs(se.rotation)%180==0?{height:n,width:r}:{height:r,width:n},i={height:o.height*se.scale,width:o.width*se.scale};return ie.transformSize({numPages:k,pageIndex:t,size:i})}))}),[se.rotation,se.scale,se.pageSizes]),pe=n.useCallback((function(e,t){re.setVisibility(e,t)}),[]),fe=ct({enableSmoothScroll:c,isRtl:I,numberOfItems:k,parentRef:D,scrollMode:se.scrollMode,setRenderRange:m,sizes:de,viewMode:se.viewMode,onVisibilityChanged:pe}),ge=p((function(){!q.current||W.current.fullScreenMode!==exports.FullScreenMode.Normal||u>0&&U.current===u||Te(q.current)}),200);!function(e){var t=e.targetRef,n=e.onResize;r((function(){var e=new ResizeObserver((function(e){e.forEach((function(e){n(e.target)}))})),r=t.current;if(r)return e.observe(r),function(){e.unobserve(r)}}),[])}({targetRef:D,onResize:ge});var he=function(e){var t=e;h.forEach((function(e){e.onViewerStateChange&&(t=e.onViewerStateChange(t))})),W.current=t},ve=function(){return D.current},xe=function(){return W.current},me=n.useCallback((function(e){return V.markVisitedDestination(e),Fe(e)}),[]),we=n.useCallback((function(){var e=V.getNextDestination();return e?Fe(e):Promise.resolve()}),[]),Pe=n.useCallback((function(){var e=V.getPreviousDestination();return e?Fe(e):Promise.resolve()}),[]),Se=n.useCallback((function(){return fe.scrollToNextItem(W.current.pageIndex,pt)}),[]),be=n.useCallback((function(e){return 0<=e&&e<k?new Promise((function(t){fe.scrollToItem(e,pt).then((function(){X(e),t()}))})):Promise.resolve()}),[]),ye=n.useCallback((function(){return fe.scrollToPreviousItem(W.current.pageIndex,pt)}),[]),_e=n.useCallback((function(e){var t,n;"pdf"===(t=e.name,n=t.split(/\./).pop(),n?n.toLowerCase():"").toLowerCase()&&new Promise((function(t){var n=new FileReader;n.readAsArrayBuffer(e),n.onload=function(){var e=new Uint8Array(n.result);t(e)}})).then((function(t){b(e.name,t)}))}),[b]),Re=n.useCallback((function(e){le({actionType:Ze.Rotate,direction:e})}),[]),Me=n.useCallback((function(e,t){le({actionType:Ze.RotatePage,direction:t,finalRotation:0,pageIndex:e})}),[]),Ce=n.useCallback((function(e){le({actionType:Ze.SwitchScrollMode,newScrollMode:e})}),[]),ke=n.useCallback((function(e){le({actionType:Ze.SwitchViewMode,newViewMode:e})}),[]),Te=n.useCallback((function(e){le({actionType:Ze.Zoom,newScale:e})}),[]),Le=n.useCallback((function(e){G.enterFullScreenMode(e)}),[]),Ee=n.useCallback((function(){G.exitFullScreenMode()}),[]);n.useEffect((function(){he(s(s({},W.current),{fullScreenMode:G.fullScreenMode}))}),[G.fullScreenMode]);var Oe=n.useCallback((function(e){V.markVisitedDestination(e)}),[]),Fe=n.useCallback((function(e){var t=e.pageIndex,n=e.bottomOffset,r=e.leftOffset,o=e.scaleTo,i=D.current,c=W.current;return i&&c?new Promise((function(e,s){oe(a,t).then((function(a){var s=a.getViewport({scale:1}),l=0,u=("function"==typeof n?n(s.width,s.height):n)||0,d=("function"==typeof r?r(s.width,s.height):r)||0,p=c.scale;switch(o){case exports.SpecialZoomLevel.PageFit:l=0,d=0,Te(exports.SpecialZoomLevel.PageFit);break;case exports.SpecialZoomLevel.PageWidth:p=st(i,se.pageSizes[t].pageHeight,se.pageSizes[t].pageWidth,exports.SpecialZoomLevel.PageWidth,w,k),l=(s.height-u)*p,d*=p,Te(p);break;default:l=(s.height-u)*p,d*=p}switch(c.scrollMode){case exports.ScrollMode.Horizontal:fe.scrollToItem(t,{left:d,top:0}).then((function(){e()}));break;case exports.ScrollMode.Vertical:default:fe.scrollToItem(t,{left:0,top:l}).then((function(){e()}))}}))})):Promise.resolve()}),[]);n.useEffect((function(){var e={enterFullScreenMode:Le,exitFullScreenMode:Ee,getPagesContainer:ve,getViewerState:xe,jumpToDestination:me,jumpToNextDestination:we,jumpToPreviousDestination:Pe,jumpToNextPage:Se,jumpToPreviousPage:ye,jumpToPage:be,openFile:_e,rotate:Re,rotatePage:Me,setViewerState:he,switchScrollMode:Ce,switchViewMode:ke,zoom:Te};return h.forEach((function(t){t.install&&t.install(e)})),function(){h.forEach((function(t){t.uninstall&&t.uninstall(e)}))}}),[j]),n.useEffect((function(){S({doc:a,file:o}),h.forEach((function(e){e.onDocumentLoad&&e.onDocumentLoad({doc:a,file:o})}))}),[j]),r((function(){var e=W.current.pageIndex;e>0&&e===u&&U.current===u&&q.current&&(U.current=-1,Te(q.current))}),[se.currentPage]),n.useEffect((function(){G.fullScreenMode===exports.FullScreenMode.Entering&&W.current.scrollMode===exports.ScrollMode.Page&&(Z.current=W.current.pageIndex),G.fullScreenMode===exports.FullScreenMode.EnteredCompletely&&W.current.scrollMode===exports.ScrollMode.Page&&c&&(Z.current=-1),G.fullScreenMode===exports.FullScreenMode.EnteredCompletely&&q.current&&(J.current=W.current.pageIndex,Te(q.current))}),[G.fullScreenMode]);var Ie=n.useCallback((function(e){le({actionType:Ze.RenderPageCompleted,pageIndex:e})}),[$]),Ae=function(){var e=re.getHighestPriorityPage();e>-1&&re.isInRange(e)&&(re.markRendering(e),X(e))},De=function(e){var t=se.currentPage-1,n=se.currentPage+1;switch(e){case"FirstPage":be(0);break;case"LastPage":be(k-1);break;case"NextPage":n<k&&be(n);break;case"PrevPage":t>=0&&be(t)}};n.useEffect((function(){if(G.fullScreenMode!==exports.FullScreenMode.Entering&&G.fullScreenMode!==exports.FullScreenMode.Exitting&&!fe.isSmoothScrolling){var e=fe.startPage,t=fe.endPage,n=fe.maxVisbilityIndex,r=G.fullScreenMode===exports.FullScreenMode.Entered||G.fullScreenMode===exports.FullScreenMode.EnteredCompletely;r&&n!==Z.current&&Z.current>-1||r&&n!==J.current&&J.current>-1||le({actionType:Ze.SetCurrentPage,endPage:t,pageIndex:n,startPage:e})}}),[fe.startPage,fe.endPage,fe.isSmoothScrolling,fe.maxVisbilityIndex,G.fullScreenMode,z,se.rotation,se.scale]),r((function(){re.markRendering(0),X(0)}),[]);var Ve=n.useCallback((function(){var t=fe.virtualItems,n=[];switch(se.viewMode){case exports.ViewMode.DualPage:n=We(t,2);break;case exports.ViewMode.DualPageWithCover:t.length&&(n=0===t[0].index?[[t[0]]].concat(We(t.slice(1),2)):We(t,2));break;case exports.ViewMode.SinglePage:default:n=We(t,1)}var r=L&&L.core?L.core.pageLabel:"Page {{pageIndex}}",o={attrs:{className:"rpv-core__inner-container","data-testid":"core__inner-container",ref:A,style:{height:"100%"}},children:e.jsx(e.Fragment,{}),subSlot:{attrs:{"data-testid":"core__inner-pages",className:O({"rpv-core__inner-pages":!0,"rpv-core__inner-pages--horizontal":se.scrollMode===exports.ScrollMode.Horizontal,"rpv-core__inner-pages--rtl":I,"rpv-core__inner-pages--single":se.scrollMode===exports.ScrollMode.Page,"rpv-core__inner-pages--vertical":se.scrollMode===exports.ScrollMode.Vertical,"rpv-core__inner-pages--wrapped":se.scrollMode===exports.ScrollMode.Wrapped}),ref:D,style:{height:"100%",position:"relative"}},children:e.jsx("div",{"data-testid":"core__inner-current-page-".concat(se.currentPage),style:Object.assign({"--scale-factor":se.scale},fe.getContainerStyles()),children:n.map((function(t){return e.jsx("div",{className:O({"rpv-core__inner-page-container":!0,"rpv-core__inner-page-container--single":se.scrollMode===exports.ScrollMode.Page}),style:fe.getItemContainerStyles(t[0]),children:t.map((function(t){var n=se.viewMode===exports.ViewMode.DualPageWithCover&&(0===t.index||k%2==0&&t.index===k-1);return e.jsx("div",{"aria-label":r.replace("{{pageIndex}}","".concat(t.index+1)),className:O({"rpv-core__inner-page":!0,"rpv-core__inner-page--dual-even":se.viewMode===exports.ViewMode.DualPage&&t.index%2==0,"rpv-core__inner-page--dual-odd":se.viewMode===exports.ViewMode.DualPage&&t.index%2==1,"rpv-core__inner-page--dual-cover":n,"rpv-core__inner-page--dual-cover-even":se.viewMode===exports.ViewMode.DualPageWithCover&&!n&&t.index%2==0,"rpv-core__inner-page--dual-cover-odd":se.viewMode===exports.ViewMode.DualPageWithCover&&!n&&t.index%2==1,"rpv-core__inner-page--single":se.viewMode===exports.ViewMode.SinglePage&&se.scrollMode===exports.ScrollMode.Page}),role:"region",style:Object.assign({},fe.getItemStyles(t),ie.buildPageStyles({numPages:k,pageIndex:t.index,scrollMode:se.scrollMode,viewMode:se.viewMode})),children:e.jsx(Ne,{doc:a,measureRef:t.measureRef,outlines:B,pageIndex:t.index,pageRotation:se.pagesRotation.has(t.index)?se.pagesRotation.get(t.index):0,pageSize:se.pageSizes[t.index],plugins:h,renderPage:v,renderQueueKey:$,rotation:se.rotation,scale:se.scale,shouldRender:K===t.index,viewMode:se.viewMode,onExecuteNamedAction:De,onJumpFromLinkAnnotation:Oe,onJumpToDest:me,onRenderCompleted:Ie,onRotatePage:Me})},"".concat(t.index,"-").concat(se.viewMode))}))},"".concat(t[0].index,"-").concat(se.viewMode))}))})}};return h.forEach((function(e){e.renderViewer&&(o=e.renderViewer({containerRef:A,doc:a,pagesContainerRef:D,pagesRotation:se.pagesRotation,pageSizes:se.pageSizes,rotation:se.rotation,slot:o,themeContext:F,jumpToPage:be,openFile:_e,rotate:Re,rotatePage:Me,switchScrollMode:Ce,switchViewMode:ke,zoom:Te}))})),o}),[h,fe]),ze=n.useCallback((function(t){return e.jsxs("div",s({},t.attrs,{style:t.attrs&&t.attrs.style?t.attrs.style:{},children:[t.children,t.subSlot&&ze(t.subSlot)]}))}),[]);return ze(Ve())},ht=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],vt=function(t){var r=t.defaultScale,o=t.doc,i=t.render,a=t.scrollMode,c=t.viewMode,s=n.useRef(),l=n.useState({estimatedPageSizes:[],scale:0}),u=l[0],d=l[1];return n.useLayoutEffect((function(){oe(o,0).then((function(e){var t=e.getViewport({scale:1}),n=s.current;if(n){var i=t.width,l=t.height,u=n.parentElement,p=(u.clientWidth-45)/i,f=(u.clientHeight-45)/l,g=p;switch(a){case exports.ScrollMode.Horizontal:g=Math.min(p,f);break;case exports.ScrollMode.Vertical:default:g=p}var h,v,x=r?"string"==typeof r?st(u,l,i,r,c,o.numPages):r:(h=g,-1===(v=ht.findIndex((function(e){return e>=h})))||0===v?h:ht[v-1]),m=Array(o.numPages).fill(0).map((function(e){return{pageHeight:t.height,pageWidth:t.width,rotation:t.rotation}}));d({estimatedPageSizes:m,scale:x})}}))}),[o.loadingTask.docId]),0===u.estimatedPageSizes.length||0===u.scale?e.jsx("div",{className:"rpv-core__page-size-calculator","data-testid":"core__page-size-calculating",ref:s,children:e.jsx(Ee,{})}):i(u.estimatedPageSizes,u.scale)};exports.PasswordStatus=void 0,(ft=exports.PasswordStatus||(exports.PasswordStatus={})).RequiredPassword="RequiredPassword",ft.WrongPassword="WrongPassword";var xt,mt=function(){},wt=function(e){function t(t,n){var r=e.call(this)||this;return r.verifyPassword=t,r.passwordStatus=n,r}return c(t,e),t}(mt),Pt=function(t){var r=t.children,o=t.testId,i=t.onClick,a=n.useContext(E).direction===exports.TextDirection.RightToLeft,c=o?{"data-testid":o}:{};return e.jsx("button",s({className:O({"rpv-core__primary-button":!0,"rpv-core__primary-button--rtl":a}),type:"button",onClick:i},c,{children:r}))},St=function(t){var o=t.ariaLabel,i=void 0===o?"":o,a=t.autoFocus,c=void 0!==a&&a,l=t.placeholder,u=void 0===l?"":l,d=t.testId,p=t.type,f=void 0===p?"text":p,g=t.value,h=void 0===g?"":g,v=t.onChange,x=t.onKeyDown,m=void 0===x?function(){}:x,w=n.useContext(E).direction,P=n.useRef(),S=w===exports.TextDirection.RightToLeft,b={ref:P,"data-testid":"","aria-label":i,className:O({"rpv-core__textbox":!0,"rpv-core__textbox--rtl":S}),placeholder:u,value:h,onChange:function(e){return v(e.target.value)},onKeyDown:m};return d&&(b["data-testid"]=d),r((function(){if(c){var e=P.current;if(e){var t=window.scrollX,n=window.scrollY;e.focus(),window.scrollTo(t,n)}}}),[]),"text"===f?e.jsx("input",s({type:"text"},b)):e.jsx("input",s({type:"password"},b))},bt=function(t){var r=t.passwordStatus,o=t.renderProtectedView,i=t.verifyPassword,a=t.onDocumentAskPassword,c=n.useContext(He).l10n,s=n.useState(""),l=s[0],u=s[1],d=n.useContext(E).direction===exports.TextDirection.RightToLeft,p=function(){return i(l)};return n.useEffect((function(){a&&a({verifyPassword:i})}),[]),o?o({passwordStatus:r,verifyPassword:i}):e.jsx("div",{className:"rpv-core__asking-password-wrapper",children:e.jsxs("div",{className:O({"rpv-core__asking-password":!0,"rpv-core__asking-password--rtl":d}),children:[e.jsxs("div",{className:"rpv-core__asking-password-message",children:[r===exports.PasswordStatus.RequiredPassword&&c.core.askingPassword.requirePasswordToOpen,r===exports.PasswordStatus.WrongPassword&&c.core.wrongPassword.tryAgain]}),e.jsxs("div",{className:"rpv-core__asking-password-body",children:[e.jsx("div",{className:O({"rpv-core__asking-password-input":!0,"rpv-core__asking-password-input--ltr":!d,"rpv-core__asking-password-input--rtl":d}),children:e.jsx(St,{testId:"core__asking-password-input",type:"password",value:l,onChange:u,onKeyDown:function(e){"Enter"===e.key&&p()}})}),e.jsx(Pt,{onClick:p,children:c.core.askingPassword.submit})]})]})})},yt=function(e){function t(t){var n=e.call(this)||this;return n.doc=t,n}return c(t,e),t}(mt),_t=function(e){function t(t){var n=e.call(this)||this;return n.error=t,n}return c(t,e),t}(mt),Rt=function(e){function t(t){var n=e.call(this)||this;return n.percentages=t,n}return c(t,e),t}(mt),Mt=function(t){var r=t.characterMap,o=t.file,i=t.httpHeaders,a=t.render,c=t.renderError,s=t.renderLoader,l=t.renderProtectedView,u=t.transformGetDocumentParams,d=t.withCredentials,p=t.onDocumentAskPassword,f=n.useContext(Ae).pdfJsApiProvider,g=n.useContext(E).direction===exports.TextDirection.RightToLeft,h=n.useState(new Rt(0)),v=h[0],x=h[1],m=n.useRef(""),w=je();return n.useEffect((function(){m.current="",x(new Rt(0));var e=new f.PDFWorker({name:"PDFWorker_".concat(Date.now())}),t=Object.assign({httpHeaders:i,withCredentials:d,worker:e},"string"==typeof o?{url:o}:{data:o},r?{cMapUrl:r.url,cMapPacked:r.isCompressed}:{}),n=u?u(t):t,a=f.getDocument(n);return a.onPassword=function(e,t){switch(t){case f.PasswordResponses.NEED_PASSWORD:w.current&&x(new wt(e,exports.PasswordStatus.RequiredPassword));break;case f.PasswordResponses.INCORRECT_PASSWORD:w.current&&x(new wt(e,exports.PasswordStatus.WrongPassword))}},a.onProgress=function(e){var t=e.total>0?Math.min(100,100*e.loaded/e.total):100;w.current&&""===m.current&&x(new Rt(t))},a.promise.then((function(e){m.current=e.loadingTask.docId,w.current&&x(new yt(e))}),(function(t){return w.current&&!e.destroyed&&x(new _t({message:t.message||"Cannot load document",name:t.name}))})),function(){a.destroy(),e.destroy()}}),[o]),v instanceof wt?e.jsx(bt,{passwordStatus:v.passwordStatus,renderProtectedView:l,verifyPassword:v.verifyPassword,onDocumentAskPassword:p}):v instanceof yt?a(v.doc):v instanceof _t?c?c(v.error):e.jsx("div",{className:O({"rpv-core__doc-error":!0,"rpv-core__doc-error--rtl":g}),children:e.jsx("div",{className:"rpv-core__doc-error-text",children:v.error.message})}):e.jsx("div",{"data-testid":"core__doc-loading",className:O({"rpv-core__doc-loading":!0,"rpv-core__doc-loading--rtl":g}),children:s?s(v.percentages):e.jsx(Ee,{})})},Ct=function(e,t){var r=n.useMemo((function(){return"auto"===e?"undefined"!=typeof window&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e}),[]),o=n.useState(r),a=o[0],c=o[1],s=i(a);return n.useEffect((function(){if("auto"===e){var t=window.matchMedia("(prefers-color-scheme: dark)"),n=function(e){c(e.matches?"dark":"light")};return t.addEventListener("change",n),function(){return t.removeEventListener("change",n)}}}),[]),n.useEffect((function(){a!==s&&t&&t(a)}),[a]),n.useEffect((function(){e!==a&&c(e)}),[e]),{currentTheme:a,setCurrentTheme:c}},kt=function(e){return{startPage:e.startPage-3,endPage:e.endPage+3}},jt=0,Tt=function(){return jt++},Lt=function(e,t,r){var o=function(e){var n=t.current;if(n){var o=e.target;if(o instanceof Element&&o.shadowRoot){var i=e.composedPath();i.length>0&&!n.contains(i[0])&&r()}else n.contains(o)||r()}};n.useEffect((function(){if(e){var t={capture:!0};return document.addEventListener("click",o,t),function(){document.removeEventListener("click",o,t)}}}),[])},Et=function(e){var t=function(t){"Escape"===t.key&&e()};n.useEffect((function(){return document.addEventListener("keyup",t),function(){document.removeEventListener("keyup",t)}}),[])},Ot=function(t){var o=t.ariaControlsSuffix,i=t.children,a=t.closeOnClickOutside,c=t.closeOnEscape,s=t.onToggle,l=n.useRef(),u=n.useContext(E).direction===exports.TextDirection.RightToLeft;return n.useEffect((function(){var e=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",function(){document.body.style.overflow=e}}),[]),Et((function(){l.current&&c&&s()})),Lt(a,l,s),r((function(){var e=l.current;if(e){var t=.75*document.body.clientHeight;e.getBoundingClientRect().height>=t&&(e.style.overflow="auto",e.style.maxHeight="".concat(t,"px"))}}),[]),e.jsx("div",{"aria-modal":"true",className:O({"rpv-core__modal-body":!0,"rpv-core__modal-body--rtl":u}),id:"rpv-core__modal-body-".concat(o),ref:l,role:"dialog",tabIndex:-1,children:i})},Ft=function(t){var n=t.children;return e.jsx("div",{className:"rpv-core__modal-overlay",children:n})},It=function(t){var n=t.content,r=t.isOpened,o=void 0!==r&&r,i=t.target,a=z(o),c=a.opened,s=a.toggle;return e.jsxs(e.Fragment,{children:[i&&i(s,c),c&&n(s)]})};exports.Position=void 0,(xt=exports.Position||(exports.Position={})).TopLeft="TOP_LEFT",xt.TopCenter="TOP_CENTER",xt.TopRight="TOP_RIGHT",xt.RightTop="RIGHT_TOP",xt.RightCenter="RIGHT_CENTER",xt.RightBottom="RIGHT_BOTTOM",xt.BottomLeft="BOTTOM_LEFT",xt.BottomCenter="BOTTOM_CENTER",xt.BottomRight="BOTTOM_RIGHT",xt.LeftTop="LEFT_TOP",xt.LeftCenter="LEFT_CENTER",xt.LeftBottom="LEFT_BOTTOM";var At,Dt=function(e,t,n,o,i){r((function(){var r=t.current,a=e.current,c=n.current;if(a&&r&&c){var s=c.getBoundingClientRect(),l=function(e,t,n,r){var o=t.getBoundingClientRect(),i=e.getBoundingClientRect(),a=i.height,c=i.width,s=0,l=0;switch(n){case exports.Position.TopLeft:s=o.top-a,l=o.left;break;case exports.Position.TopCenter:s=o.top-a,l=o.left+o.width/2-c/2;break;case exports.Position.TopRight:s=o.top-a,l=o.left+o.width-c;break;case exports.Position.RightTop:s=o.top,l=o.left+o.width;break;case exports.Position.RightCenter:s=o.top+o.height/2-a/2,l=o.left+o.width;break;case exports.Position.RightBottom:s=o.top+o.height-a,l=o.left+o.width;break;case exports.Position.BottomLeft:s=o.top+o.height,l=o.left;break;case exports.Position.BottomCenter:s=o.top+o.height,l=o.left+o.width/2-c/2;break;case exports.Position.BottomRight:s=o.top+o.height,l=o.left+o.width-c;break;case exports.Position.LeftTop:s=o.top,l=o.left-c;break;case exports.Position.LeftCenter:s=o.top+o.height/2-a/2,l=o.left-c;break;case exports.Position.LeftBottom:s=o.top+o.height-a,l=o.left-c}return{left:l+(r.left||0),top:s+(r.top||0)}}(a,r,o,i),u=l.top,d=l.left;a.style.top="".concat(u-s.top,"px"),a.style.left="".concat(d-s.left,"px")}}),[])},Vt=function(t){var n,r=t.customClassName,o=t.position;return e.jsx("div",{className:O((n={"rpv-core__arrow":!0,"rpv-core__arrow--tl":o===exports.Position.TopLeft,"rpv-core__arrow--tc":o===exports.Position.TopCenter,"rpv-core__arrow--tr":o===exports.Position.TopRight,"rpv-core__arrow--rt":o===exports.Position.RightTop,"rpv-core__arrow--rc":o===exports.Position.RightCenter,"rpv-core__arrow--rb":o===exports.Position.RightBottom,"rpv-core__arrow--bl":o===exports.Position.BottomLeft,"rpv-core__arrow--bc":o===exports.Position.BottomCenter,"rpv-core__arrow--br":o===exports.Position.BottomRight,"rpv-core__arrow--lt":o===exports.Position.LeftTop,"rpv-core__arrow--lc":o===exports.Position.LeftCenter,"rpv-core__arrow--lb":o===exports.Position.LeftBottom},n["".concat(r)]=""!==r,n))})},Nt=function(t){var o=t.ariaControlsSuffix,i=t.children,a=t.closeOnClickOutside,c=t.offset,s=t.position,l=t.targetRef,u=t.onClose,d=n.useRef(),p=n.useRef(),f=n.useRef(),g=n.useContext(E).direction===exports.TextDirection.RightToLeft;Lt(a,d,u),Dt(d,l,f,s,c),r((function(){var e=p.current;if(e){var t=.75*document.body.clientHeight;e.getBoundingClientRect().height>=t&&(e.style.overflow="auto",e.style.maxHeight="".concat(t,"px"))}}),[]);var h="rpv-core__popover-body-inner-".concat(o);return e.jsxs(e.Fragment,{children:[e.jsx("div",{ref:f,style:{left:0,position:"absolute",top:0}}),e.jsxs("div",{"aria-describedby":h,className:O({"rpv-core__popover-body":!0,"rpv-core__popover-body--rtl":g}),id:"rpv-core__popover-body-".concat(o),ref:d,role:"dialog",tabIndex:-1,children:[e.jsx(Vt,{customClassName:"rpv-core__popover-body-arrow",position:s}),e.jsx("div",{id:h,ref:p,children:i})]})]})},zt=function(t){var r=t.closeOnEscape,o=t.onClose,i=n.useRef();return Et((function(){i.current&&r&&o()})),e.jsx("div",{className:"rpv-core__popover-overlay",ref:i})},Ht=function(t){var r=t.ariaControlsSuffix,o=t.children,i=t.contentRef,a=t.offset,c=t.position,s=t.targetRef,l=n.useRef(),u=n.useContext(E).direction===exports.TextDirection.RightToLeft;return Dt(i,s,l,c,a),e.jsxs(e.Fragment,{children:[e.jsx("div",{ref:l,style:{left:0,position:"absolute",top:0}}),e.jsxs("div",{className:O({"rpv-core__tooltip-body":!0,"rpv-core__tooltip-body--rtl":u}),id:"rpv-core__tooltip-body-".concat(r),ref:i,role:"tooltip",children:[e.jsx(Vt,{customClassName:"rpv-core__tooltip-body-arrow",position:c}),e.jsx("div",{className:"rpv-core__tooltip-body-content",children:o})]})]})};exports.PageMode=void 0,(At=exports.PageMode||(exports.PageMode={})).Attachments="UseAttachments",At.Bookmarks="UseOutlines",At.ContentGroup="UseOC",At.Default="UserNone",At.FullScreen="FullScreen",At.Thumbnails="UseThumbs";exports.Button=function(t){var r=t.children,o=t.testId,i=t.onClick,a=n.useContext(E).direction===exports.TextDirection.RightToLeft,c=o?{"data-testid":o}:{};return e.jsx("button",s({className:O({"rpv-core__button":!0,"rpv-core__button--rtl":a}),type:"button",onClick:i},c,{children:r}))},exports.Icon=me,exports.LazyRender=function(t){var r=t.attrs,i=t.children,a=t.testId,c=n.useState(!1),l=c[0],u=c[1],d=a?s(s({},r),{"data-testid":a}):r,p=o({once:!0,onVisibilityChanged:function(e){e.isVisible&&u(!0)}});return e.jsx("div",s({ref:p},d,{children:l&&i}))},exports.LocalizationContext=He,exports.Menu=function(t){var o=t.children,i=n.useRef(),a=n.useRef([]),c=n.useContext(E).direction===exports.TextDirection.RightToLeft,s=function(e){if(i.current)switch(e.key){case"Tab":e.preventDefault();break;case"ArrowDown":e.preventDefault(),l((function(e,t){return t+1}));break;case"ArrowUp":e.preventDefault(),l((function(e,t){return t-1}));break;case"End":e.preventDefault(),l((function(e,t){return e.length-1}));break;case"Home":e.preventDefault(),l((function(e,t){return 0}))}},l=function(e){if(i.current){var t=a.current,n=t.findIndex((function(e){return"0"===e.getAttribute("tabindex")})),r=Math.min(t.length-1,Math.max(0,e(t,n)));n>=0&&n<=t.length-1&&t[n].setAttribute("tabindex","-1"),t[r].setAttribute("tabindex","0"),t[r].focus()}};return r((function(){var e=i.current;if(e){var t=function(e){var t=[];return e.querySelectorAll('.rpv-core__menu-item[role="menuitem"]').forEach((function(n){if(n instanceof HTMLElement){var r=n.parentElement;(r===e||"none"!==window.getComputedStyle(r).display)&&t.push(n)}})),t}(e);a.current=t}}),[]),r((function(){return document.addEventListener("keydown",s),function(){document.removeEventListener("keydown",s)}}),[]),e.jsx("div",{ref:i,"aria-orientation":"vertical",className:O({"rpv-core__menu":!0,"rpv-core__menu--rtl":c}),role:"menu",tabIndex:0,children:o})},exports.MenuDivider=function(){return e.jsx("div",{"aria-orientation":"horizontal",className:"rpv-core__menu-divider",role:"separator"})},exports.MenuItem=function(t){var r=t.checked,o=void 0!==r&&r,i=t.children,a=t.icon,c=void 0===a?null:a,l=t.isDisabled,u=void 0!==l&&l,d=t.testId,p=t.onClick,f=n.useContext(E).direction===exports.TextDirection.RightToLeft,g=d?{"data-testid":d}:{};return e.jsxs("button",s({className:O({"rpv-core__menu-item":!0,"rpv-core__menu-item--disabled":u,"rpv-core__menu-item--ltr":!f,"rpv-core__menu-item--rtl":f}),role:"menuitem",tabIndex:-1,type:"button",onClick:p},g,{children:[e.jsx("div",{className:O({"rpv-core__menu-item-icon":!0,"rpv-core__menu-item-icon--ltr":!f,"rpv-core__menu-item-icon--rtl":f}),children:c}),e.jsx("div",{className:O({"rpv-core__menu-item-label":!0,"rpv-core__menu-item-label--ltr":!f,"rpv-core__menu-item-label--rtl":f}),children:i}),e.jsx("div",{className:O({"rpv-core__menu-item-check":!0,"rpv-core__menu-item-check--ltr":!f,"rpv-core__menu-item-check--rtl":f}),children:o&&e.jsx(we,{})})]}))},exports.MinimalButton=function(t){var r=t.ariaLabel,o=void 0===r?"":r,i=t.ariaKeyShortcuts,a=void 0===i?"":i,c=t.children,l=t.isDisabled,u=void 0!==l&&l,d=t.isSelected,p=void 0!==d&&d,f=t.testId,g=t.onClick,h=n.useContext(E).direction===exports.TextDirection.RightToLeft,v=f?{"data-testid":f}:{};return e.jsx("button",s({"aria-label":o},a&&{"aria-keyshortcuts":a},u&&{"aria-disabled":!0},{className:O({"rpv-core__minimal-button":!0,"rpv-core__minimal-button--disabled":u,"rpv-core__minimal-button--rtl":h,"rpv-core__minimal-button--selected":p}),type:"button",onClick:g},v,{children:c}))},exports.Modal=function(t){var n=t.ariaControlsSuffix,r=t.closeOnClickOutside,o=t.closeOnEscape,i=t.content,a=t.isOpened,c=void 0!==a&&a,s=t.target,l=n||"".concat(Tt());return e.jsx(It,{target:s?function(t,n){return e.jsx("div",{"aria-expanded":n?"true":"false","aria-haspopup":"dialog","aria-controls":"rpv-core__modal-body-".concat(l),children:s(t,n)})}:null,content:function(t){return e.jsx(Ft,{children:e.jsx(Ot,{ariaControlsSuffix:l,closeOnClickOutside:r,closeOnEscape:o,onToggle:t,children:i(t)})})},isOpened:c})},exports.PdfJsApiContext=Ae,exports.Popover=function(t){var r=t.ariaHasPopup,o=void 0===r?"dialog":r,i=t.ariaControlsSuffix,a=t.closeOnClickOutside,c=t.closeOnEscape,s=t.content,l=t.lockScroll,u=void 0===l||l,d=t.offset,p=t.position,f=t.target,g=z(!1),h=g.opened,v=g.toggle,x=n.useRef(),m=n.useMemo((function(){return i||"".concat(Tt())}),[]);return e.jsxs("div",{ref:x,"aria-expanded":h?"true":"false","aria-haspopup":o,"aria-controls":"rpv-core__popver-body-".concat(m),children:[f(v,h),h&&e.jsxs(e.Fragment,{children:[u&&e.jsx(zt,{closeOnEscape:c,onClose:v}),e.jsx(Nt,{ariaControlsSuffix:m,closeOnClickOutside:a,offset:d,position:p,targetRef:x,onClose:v,children:s(v)})]})]})},exports.PrimaryButton=Pt,exports.ProgressBar=function(t){var r=t.progress,o=n.useContext(E).direction===exports.TextDirection.RightToLeft;return e.jsx("div",{className:O({"rpv-core__progress-bar":!0,"rpv-core__progress-bar--rtl":o}),children:e.jsxs("div",{className:"rpv-core__progress-bar-progress",style:{width:"".concat(r,"%")},children:[r,"%"]})})},exports.Separator=function(){return e.jsx("div",{className:"rpv-core__separator"})},exports.Spinner=Ee,exports.Splitter=function(t){var r=t.constrain,o=n.useContext(E).direction===exports.TextDirection.RightToLeft,i=n.useRef(),a=n.useRef(),c=n.useRef(),s=n.useRef(0),l=n.useRef(0),u=n.useRef(0),d=n.useRef(0),p={capture:!0},f=function(e){var t=i.current,n=a.current,l=c.current;if(t&&n&&l){var p=d.current,f=e.clientX-s.current,g=u.current+(o?-f:f),h=t.parentElement.getBoundingClientRect().width,v=100*g/h;if(t.classList.add("rpv-core__splitter--resizing"),r){var x=h-g-p;if(!r({firstHalfPercentage:v,firstHalfSize:g,secondHalfPercentage:100*x/h,secondHalfSize:x}))return}n.style.width="".concat(v,"%"),document.body.classList.add("rpv-core__splitter-body--resizing"),n.classList.add("rpv-core__splitter-sibling--resizing"),l.classList.add("rpv-core__splitter-sibling--resizing")}},g=function(e){var t=i.current,n=a.current,r=c.current;t&&n&&r&&(document.body.classList.remove("rpv-core__splitter-body--resizing"),t.classList.remove("rpv-core__splitter--resizing"),n.classList.remove("rpv-core__splitter-sibling--resizing"),r.classList.remove("rpv-core__splitter-sibling--resizing"),document.removeEventListener("mousemove",f,p),document.removeEventListener("mouseup",g,p))};return n.useEffect((function(){var e=i.current;e&&(d.current=e.getBoundingClientRect().width,a.current=e.previousElementSibling,c.current=e.nextElementSibling)}),[]),e.jsx("div",{ref:i,className:"rpv-core__splitter",onMouseDown:function(e){var t=a.current;t&&(s.current=e.clientX,l.current=e.clientY,u.current=t.getBoundingClientRect().width,document.addEventListener("mousemove",f,p),document.addEventListener("mouseup",g,p))}})},exports.TextBox=St,exports.ThemeContext=E,exports.Tooltip=function(t){var r=t.ariaControlsSuffix,o=t.content,i=t.offset,a=t.position,c=t.target,s=z(!1),l=s.opened,u=s.toggle,d=n.useRef(),p=n.useRef(),f=n.useMemo((function(){return r||"".concat(Tt())}),[]);Et((function(){d.current&&document.activeElement&&d.current.contains(document.activeElement)&&h()}));var g=function(){u(exports.ToggleStatus.Open)},h=function(){u(exports.ToggleStatus.Close)};return e.jsxs(e.Fragment,{children:[e.jsx("div",{ref:d,"aria-describedby":"rpv-core__tooltip-body-".concat(f),onBlur:function(e){e.relatedTarget instanceof HTMLElement&&e.currentTarget.parentElement&&e.currentTarget.parentElement.contains(e.relatedTarget)?p.current&&(p.current.style.display="none"):h()},onFocus:g,onMouseEnter:g,onMouseLeave:h,children:c}),l&&e.jsx(Ht,{ariaControlsSuffix:f,contentRef:p,offset:i,position:a,targetRef:d,children:o()})]})},exports.Viewer=function(t){var r=t.characterMap,a=t.defaultScale,c=t.enableSmoothScroll,s=void 0===c||c,l=t.fileUrl,u=t.httpHeaders,d=void 0===u?{}:u,p=t.initialPage,f=void 0===p?0:p,g=t.pageLayout,h=t.initialRotation,v=void 0===h?0:h,x=t.localization,m=t.plugins,w=void 0===m?[]:m,P=t.renderError,S=t.renderLoader,b=t.renderPage,y=t.renderProtectedView,_=t.scrollMode,R=void 0===_?exports.ScrollMode.Vertical:_,M=t.setRenderRange,C=void 0===M?kt:M,k=t.transformGetDocumentParams,j=t.theme,T=void 0===j?{direction:exports.TextDirection.LeftToRight,theme:"light"}:j,L=t.viewMode,O=void 0===L?exports.ViewMode.SinglePage:L,F=t.withCredentials,I=void 0!==F&&F,A=t.onDocumentAskPassword,D=t.onDocumentLoad,V=void 0===D?function(){}:D,N=t.onPageChange,z=void 0===N?function(){}:N,H=t.onRotate,B=void 0===H?function(){}:H,W=t.onRotatePage,q=void 0===W?function(){}:W,Z=t.onSwitchTheme,J=void 0===Z?function(){}:Z,U=t.onZoom,G=void 0===U?function(){}:U,Y=n.useState({data:l,name:"string"==typeof l?l:"",shouldLoad:!1}),K=Y[0],X=Y[1],Q=function(e,t){X({data:t,name:e,shouldLoad:!0})},$=n.useState(!1),ee=$[0],te=$[1],ne=i(K);n.useEffect((function(){var e,t,n,r;e=ne.data,r=typeof(t=l),"string"===(n=typeof e)&&"string"===r&&e===t||"object"===n&&"object"===r&&e.length===t.length&&e.every((function(e,n){return e===t[n]}))||X({data:l,name:"string"==typeof l?l:"",shouldLoad:ee})}),[l,ee]);var re=o({onVisibilityChanged:function(e){te(e.isVisible),e.isVisible&&X((function(e){return Object.assign({},e,{shouldLoad:!0})}))}}),oe="string"==typeof T?{direction:exports.TextDirection.LeftToRight,theme:T}:T,ie=n.useState(x||ze),ae=ie[0],ce=ie[1],se={l10n:ae,setL10n:ce},le=Object.assign({},{direction:oe.direction},Ct(oe.theme||"light",J));return n.useEffect((function(){x&&ce(x)}),[x]),e.jsx(He.Provider,{value:se,children:e.jsx(E.Provider,{value:le,children:e.jsx("div",{ref:re,className:"rpv-core__viewer rpv-core__viewer--".concat(le.currentTheme),"data-testid":"core__viewer",style:{height:"100%",width:"100%"},children:K.shouldLoad&&e.jsx(Mt,{characterMap:r,file:K.data,httpHeaders:d,render:function(t){return e.jsx(vt,{defaultScale:a,doc:t,render:function(n,r){return e.jsx(gt,{currentFile:{data:K.data,name:K.name},defaultScale:a,doc:t,enableSmoothScroll:s,estimatedPageSizes:n,initialPage:f,initialRotation:v,initialScale:r,pageLayout:g,plugins:w,renderPage:b,scrollMode:R,setRenderRange:C,viewMode:O,viewerState:{file:K,fullScreenMode:exports.FullScreenMode.Normal,pageIndex:-1,pageHeight:n[0].pageHeight,pageWidth:n[0].pageWidth,pagesRotation:new Map,rotation:v,scale:r,scrollMode:R,viewMode:O},onDocumentLoad:V,onOpenFile:Q,onPageChange:z,onRotate:B,onRotatePage:q,onZoom:G})},scrollMode:R,viewMode:O})},renderError:P,renderLoader:S,renderProtectedView:y,transformGetDocumentParams:k,withCredentials:I,onDocumentAskPassword:A})})})})},exports.Worker=function(e){throw e.children,new Error("The Worker component is moved to @react-pdf-viewer/worker or @react-pdf-viewer/legacy-worker")},exports.chunk=We,exports.classNames=O,exports.createStore=function(e){var t=e||{},n={},r=function(e,r){var o;t=s(s({},t),((o={})[e]=r,o)),(n[e]||[]).forEach((function(n){return n(t[e])}))},o=function(e){return t[e]};return{subscribe:function(e,t){n[e]=(n[e]||[]).concat(t)},unsubscribe:function(e,t){n[e]=(n[e]||[]).filter((function(e){return e!==t}))},update:function(e,t){r(e,t)},updateCurrentValue:function(e,t){var n=o(e);void 0!==n&&r(e,t(n))},get:function(e){return o(e)}}},exports.getDestination=ie,exports.getPage=oe,exports.isFullScreenEnabled=S,exports.isMac=function(){return"undefined"!=typeof window&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)},exports.useDebounceCallback=p,exports.useIntersectionObserver=o,exports.useIsMounted=je,exports.useIsomorphicLayoutEffect=r,exports.usePrevious=i,exports.useRenderQueue=T;
