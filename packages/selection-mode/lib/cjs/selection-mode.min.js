"use strict";var e=require("react/jsx-runtime"),t=require("@react-pdf-viewer/core");function n(e){var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,o.get?o:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var o,r=n(require("react")),c=function(){return e.jsx(t.Icon,{size:16,children:e.jsx("path",{d:"M11.5,5.5v-2C11.5,2.672,12.172,2,13,2s1.5,0.672,1.5,1.5v2 M14.5,11.5v-6C14.5,4.672,15.172,4,16,4\n            c0.828,0,1.5,0.672,1.5,1.5v3 M17.5,13V8.5C17.5,7.672,18.172,7,19,7s1.5,0.672,1.5,1.5v10c0,2.761-2.239,5-5,5h-3.335\n            c-1.712-0.001-3.305-0.876-4.223-2.321C6.22,18.467,4.083,14,4.083,14c-0.378-0.545-0.242-1.292,0.303-1.67\n            c0.446-0.309,1.044-0.281,1.458,0.07L8.5,15.5v-10C8.5,4.672,9.172,4,10,4s1.5,0.672,1.5,1.5v6"})})},i=function(){return e.jsx(t.Icon,{size:16,children:e.jsx("path",{d:"M13.675,11.671l2.941-2.941c0.195-0.196,0.195-0.512-0.001-0.707C16.563,7.971,16.5,7.931,16.43,7.906\n            L4.168,3.527C3.908,3.434,3.622,3.57,3.529,3.83c-0.039,0.109-0.039,0.228,0,0.336l4.379,12.262\n            c0.093,0.26,0.379,0.396,0.639,0.303c0.07-0.025,0.133-0.065,0.185-0.117l2.943-2.943l6.146,6.146c0.195,0.195,0.512,0.195,0.707,0\n            l1.293-1.293c0.195-0.195,0.195-0.512,0-0.707L13.675,11.671z"})})},s=function(){return s=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},s.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError,exports.SelectionMode=void 0,(o=exports.SelectionMode||(exports.SelectionMode={})).Hand="Hand",o.Text="Text";var l=function(n){var o=n.children,s=n.mode,l=n.onClick,u=r.useContext(t.LocalizationContext).l10n,d="",a=e.jsx(i,{});switch(s){case exports.SelectionMode.Hand:d=u&&u.selectionMode?u.selectionMode.handTool:"Hand tool",a=e.jsx(c,{});break;case exports.SelectionMode.Text:default:d=u&&u.selectionMode?u.selectionMode.textSelectionTool:"Text selection tool",a=e.jsx(i,{})}return o({icon:a,label:d,onClick:l})},u={left:0,top:8},d=function(n){var o=n.isSelected,r=n.mode,c=n.onClick,i="";switch(r){case exports.SelectionMode.Hand:i="selection-mode__hand-button";break;case exports.SelectionMode.Text:default:i="selection-mode__text-button"}return e.jsx(l,{mode:r,onClick:c,children:function(n){return e.jsx(t.Tooltip,{ariaControlsSuffix:"selection-mode-switch",position:t.Position.BottomCenter,target:e.jsx(t.MinimalButton,{ariaLabel:n.label,isSelected:o,testId:i,onClick:n.onClick,children:n.icon}),content:function(){return n.label},offset:u})}})},a=function(t){var n=t.children,o=t.mode,r=t.store,c=o===r.get("selectionMode");return(n||function(t){return e.jsx(d,{isSelected:c,mode:t.mode,onClick:t.onClick})})({isSelected:c,mode:o,onClick:function(){return r.update("selectionMode",o)}})},f=function(n){var o=n.isSelected,r=n.mode,c=n.onClick,i="";switch(r){case exports.SelectionMode.Hand:i="selection-mode__hand-menu";break;case exports.SelectionMode.Text:default:i="selection-mode__text-menu"}return e.jsx(l,{mode:r,onClick:c,children:function(n){return e.jsx(t.MenuItem,{checked:o,icon:n.icon,testId:i,onClick:n.onClick,children:n.label})}})},m=function(t){var n=t.store,o=r.useRef(null),c=r.useState(exports.SelectionMode.Text),i=c[0],s=c[1],l=r.useRef({top:0,left:0,x:0,y:0}),u=function(e){var t=o.current;t&&(t.scrollTop=l.current.top-(e.clientY-l.current.y),t.scrollLeft=l.current.left-(e.clientX-l.current.x))},d=function(){var e=o.current;e&&(e.classList.add("rpv-selection-mode__grab"),e.classList.remove("rpv-selection-mode__grabbing"),document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",d))},a=function(e){var t=o.current;t&&i!==exports.SelectionMode.Text&&(t.classList.remove("rpv-selection-mode__grab"),t.classList.add("rpv-selection-mode__grabbing"),e.preventDefault(),e.stopPropagation(),l.current={left:t.scrollLeft,top:t.scrollTop,x:e.clientX,y:e.clientY},document.addEventListener("mousemove",u),document.addEventListener("mouseup",d))},f=function(e){o.current=e()},m=function(e){s(e)};return r.useEffect((function(){var e=o.current;if(e)return i===exports.SelectionMode.Hand?e.classList.add("rpv-selection-mode__grab"):e.classList.remove("rpv-selection-mode__grab"),e.addEventListener("mousedown",a),function(){e.removeEventListener("mousedown",a)}}),[i]),r.useEffect((function(){return n.subscribe("getPagesContainer",f),n.subscribe("selectionMode",m),function(){n.unsubscribe("getPagesContainer",f),n.unsubscribe("selectionMode",m)}}),[]),e.jsx(e.Fragment,{})};exports.HandToolIcon=c,exports.TextSelectionIcon=i,exports.selectionModePlugin=function(n){var o=r.useMemo((function(){return t.createStore()}),[]),c=function(t){return e.jsx(a,s({},t,{store:o}))};return{install:function(e){o.update("selectionMode",n&&n.selectionMode?n.selectionMode:exports.SelectionMode.Text),o.update("getPagesContainer",e.getPagesContainer)},renderViewer:function(t){var n=t.slot;return n.subSlot&&n.subSlot.children&&(n.subSlot.children=e.jsxs(e.Fragment,{children:[e.jsx(m,{store:o}),n.subSlot.children]})),n},SwitchSelectionMode:c,SwitchSelectionModeButton:function(t){return e.jsx(c,{mode:t.mode,children:function(t){return e.jsx(d,{isSelected:t.isSelected,mode:t.mode,onClick:function(){t.onClick()}})}})},SwitchSelectionModeMenuItem:function(t){return e.jsx(c,{mode:t.mode,children:function(n){return e.jsx(f,{isSelected:n.isSelected,mode:n.mode,onClick:function(){n.onClick(),t.onClick()}})}})}}};
