"use strict";var e=require("react/jsx-runtime"),t=require("@react-pdf-viewer/core");function n(e){var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,o.get?o:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var o=n(require("react")),r=function(){return e.jsxs(t.Icon,{size:16,children:[e.jsx("path",{d:"M5.5,11.5c-.275,0-.341.159-.146.354l6.292,6.293a.5.5,0,0,0,.709,0l6.311-6.275c.2-.193.13-.353-.145-.355L15.5,11.5V1.5a1,1,0,0,0-1-1h-5a1,1,0,0,0-1,1V11a.5.5,0,0,1-.5.5Z"}),e.jsx("path",{d:"M23.5,18.5v4a1,1,0,0,1-1,1H1.5a1,1,0,0,1-1-1v-4"})]})},i=function(){return i=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},i.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var a={left:0,top:8},c=function(n){var i=n.onClick,c=o.useContext(t.LocalizationContext).l10n,u=c&&c.download?c.download.download:"Download";return e.jsx(t.Tooltip,{ariaControlsSuffix:"get-file",position:t.Position.BottomCenter,target:e.jsx(t.MinimalButton,{ariaLabel:u,testId:"get-file__download-button",onClick:i,children:e.jsx(r,{})}),content:function(){return u},offset:a})},u=function(e,t){var n=document.createElement("a");n.style.display="none",n.href=e,n.setAttribute("download",t),document.body.appendChild(n),n.click(),document.body.removeChild(n)},l=function(e,t,n){var o=URL.createObjectURL(new Blob([e],{type:n}));u(o,t),o&&URL.revokeObjectURL(o)},s=function(e,t){e.getData().then((function(e){/iphone|ipod|ipad/i.test(navigator.userAgent)&&!/CriOS/i.test(navigator.userAgent)?l(e,t,"application/octet-stream"):/iphone|ipod|ipad/i.test(navigator.userAgent)&&/CriOS/i.test(navigator.userAgent)?u("data:application/pdf;base64,".concat(function(e){return btoa(Array(e.length).fill("").map((function(t,n){return String.fromCharCode(e[n])})).join(""))}(e)),t):l(e,t,"application/pdf")}))},d=function(t){var n=t.children,r=t.fileNameGenerator,i=t.store,a=o.useState(i.get("file")),u=a[0],l=a[1],d=o.useState(i.get("doc")),f=d[0],p=d[1],b=function(e){p(e)},j=function(e){l(e)};o.useEffect((function(){return i.subscribe("doc",b),i.subscribe("file",j),function(){i.subscribe("doc",b),i.unsubscribe("file",j)}}),[]);return(n||function(t){return e.jsx(c,{onClick:t.onClick})})({onClick:function(){f&&u&&s(f,r(u))}})},f=function(n){var i=n.onClick,a=o.useContext(t.LocalizationContext).l10n,c=a&&a.download?a.download.download:"Download";return e.jsx(t.MenuItem,{icon:e.jsx(r,{}),testId:"get-file__download-menu",onClick:i,children:c})};exports.DownloadIcon=r,exports.getFilePlugin=function(n){var r=o.useMemo((function(){return t.createStore({})}),[]),a=function(e){return e.name?(t=e.name,(n=t.split("/").pop())?n.split("#")[0].split("?")[0]:t):"document.pdf";var t,n},u=function(t){return e.jsx(d,i({},t,{fileNameGenerator:n&&n.fileNameGenerator||a,store:r}))};return{onDocumentLoad:function(e){r.update("doc",e.doc),r.update("file",e.file)},Download:u,DownloadButton:function(){return e.jsx(u,{children:function(t){return e.jsx(c,i({},t))}})},DownloadMenuItem:function(t){return e.jsx(u,{children:function(n){return e.jsx(f,{onClick:function(){n.onClick(),t.onClick()}})}})}}};
