"use strict";var e=require("react/jsx-runtime"),n=require("@react-pdf-viewer/core");function t(e){var n=Object.create(null);return e&&Object.keys(e).forEach((function(t){if("default"!==t){var i=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,i.get?i:{enumerable:!0,get:function(){return e[t]}})}})),n.default=e,Object.freeze(n)}var i=t(require("react")),o=function(){return e.jsx(n.Icon,{size:16,children:e.jsx("path",{d:"M2.32,2.966h19.452c0.552,0.001,1,0.449,0.999,1.001c0,0.182-0.05,0.36-0.144,0.516L12.9,20.552\n            c-0.286,0.472-0.901,0.624-1.373,0.338c-0.138-0.084-0.254-0.2-0.338-0.338L1.465,4.483C1.179,4.01,1.331,3.396,1.804,3.11\n            C1.96,3.016,2.138,2.966,2.32,2.966z"})})},r=function(){return e.jsx(n.Icon,{size:16,children:e.jsx("path",{d:"M0.541,5.627L11.666,18.2c0.183,0.207,0.499,0.226,0.706,0.043c0.015-0.014,0.03-0.028,0.043-0.043\n            L23.541,5.627"})})},a=function(){return e.jsx(n.Icon,{size:16,children:e.jsx("path",{d:"M23.535,18.373L12.409,5.8c-0.183-0.207-0.499-0.226-0.706-0.043C11.688,5.77,11.674,5.785,11.66,5.8\n            L0.535,18.373"})})},u=function(){return e.jsx(n.Icon,{size:16,children:e.jsx("path",{d:"M21.783,21.034H2.332c-0.552,0-1-0.448-1-1c0-0.182,0.05-0.361,0.144-0.517L11.2,3.448\n            c0.286-0.472,0.901-0.624,1.373-0.338c0.138,0.084,0.254,0.2,0.338,0.338l9.726,16.069c0.286,0.473,0.134,1.087-0.339,1.373\n            C22.143,20.984,21.965,21.034,21.783,21.034z"})})},s=function(){return s=Object.assign||function(e){for(var n,t=1,i=arguments.length;t<i;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},s.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var c=function(e){var t=i.useState(e.get("currentPage")||0),o=t[0],r=t[1],a=function(e){r(e)};return n.useIsomorphicLayoutEffect((function(){return e.subscribe("currentPage",a),function(){e.unsubscribe("currentPage",a)}}),[]),{currentPage:o}},g=function(e){var n=i.useState(e.get("numberOfPages")||0),t=n[0],o=n[1],r=function(e){o(e)};return i.useEffect((function(){return e.subscribe("numberOfPages",r),function(){e.unsubscribe("numberOfPages",r)}}),[]),{numberOfPages:t}},l=function(t){var o=t.store,r=i.useContext(n.LocalizationContext).l10n,a=i.useState("1"),u=a[0],s=a[1],l=c(o).currentPage,f=g(o).numberOfPages;i.useEffect((function(){return s("".concat(l+1))}),[l]);var p=function(e){var n=o.get("jumpToPage");n&&n(e)},d=r&&r.pageNavigation?r.pageNavigation.enterPageNumber:"Enter a page number";return e.jsx("span",{className:"rpv-page-navigation__current-page-input",children:e.jsx(n.TextBox,{ariaLabel:d,testId:"page-navigation__current-page-input",type:"text",value:u,onChange:s,onKeyDown:function(e){switch(e.key){case"ArrowUp":(i=l-1)>=0&&(s("".concat(i+1)),p(i));break;case"ArrowDown":(t=l+1)<f&&(s("".concat(t+1)),p(t));break;case"Enter":n=parseInt(u,10),""===u||n<1||n>f?s("".concat(l+1)):p(n-1)}var n,t,i}})})},f=function(t){var o=t.children,r=t.doc,a=n.useIsMounted(),u=i.useState({loading:!0,labels:[]}),s=u[0],c=u[1];return i.useEffect((function(){r.getPageLabels().then((function(e){a.current&&c({loading:!1,labels:e||[]})}))}),[r.loadingTask.docId]),s.loading?e.jsx(e.Fragment,{}):o(s.labels)},p=function(n){var t=n.children,o=n.store,r=function(e){var n=i.useState(e.get("doc")),t=n[0],o=n[1],r=function(e){o(e)};return i.useEffect((function(){return e.subscribe("doc",r),function(){e.unsubscribe("doc",r)}}),[]),t}(o),a=c(o).currentPage,u=g(o).numberOfPages,s=t||function(n){return e.jsx(e.Fragment,{children:n.currentPage+1})};return r?e.jsx(f,{doc:r,children:function(e){var n=e.length===u&&u>0?e[a]:"";return s({currentPage:a,numberOfPages:u,pageLabel:n})}}):e.jsx(e.Fragment,{})},d={left:0,top:8},v=function(t){var o=t.isDisabled,r=t.onClick,a=i.useContext(n.LocalizationContext).l10n,s=a&&a.pageNavigation?a.pageNavigation.goToFirstPage:"First page";return e.jsx(n.Tooltip,{ariaControlsSuffix:"page-navigation-first",position:n.Position.BottomCenter,target:e.jsx(n.MinimalButton,{ariaLabel:s,isDisabled:o,testId:"page-navigation__first-button",onClick:r,children:e.jsx(u,{})}),content:function(){return s},offset:d})},x=function(n){var t=n.children,i=n.store;return(t||function(n){return e.jsx(v,{isDisabled:n.isDisabled,onClick:n.onClick})})({isDisabled:0===c(i).currentPage,onClick:function(){var e=i.get("jumpToPage");e&&e(0)}})},j=function(t){var o=t.isDisabled,r=t.onClick,a=i.useContext(n.LocalizationContext).l10n,s=a&&a.pageNavigation?a.pageNavigation.goToFirstPage:"First page";return e.jsx(n.MenuItem,{icon:e.jsx(u,{}),isDisabled:o,testId:"page-navigation__first-menu",onClick:r,children:s})},P={left:0,top:8},m=function(t){var r=t.isDisabled,a=t.onClick,u=i.useContext(n.LocalizationContext).l10n,s=u&&u.pageNavigation?u.pageNavigation.goToLastPage:"Last page";return e.jsx(n.Tooltip,{ariaControlsSuffix:"page-navigation-last",position:n.Position.BottomCenter,target:e.jsx(n.MinimalButton,{ariaLabel:s,isDisabled:r,testId:"page-navigation__last-button",onClick:a,children:e.jsx(o,{})}),content:function(){return s},offset:P})},b=function(n){var t=n.children,i=n.store,o=c(i).currentPage,r=g(i).numberOfPages;return(t||function(n){return e.jsx(m,{isDisabled:n.isDisabled,onClick:n.onClick})})({isDisabled:o+1>=r,onClick:function(){var e=i.get("jumpToPage");e&&e(r-1)}})},C=function(t){var r=t.isDisabled,a=t.onClick,u=i.useContext(n.LocalizationContext).l10n,s=u&&u.pageNavigation?u.pageNavigation.goToLastPage:"Last page";return e.jsx(n.MenuItem,{icon:e.jsx(o,{}),isDisabled:r,testId:"page-navigation__last-menu",onClick:a,children:s})},h={left:0,top:8},D=function(t){var o=t.isDisabled,a=t.onClick,u=i.useContext(n.LocalizationContext).l10n,s=u&&u.pageNavigation?u.pageNavigation.goToNextPage:"Next page";return e.jsx(n.Tooltip,{ariaControlsSuffix:"page-navigation-next",position:n.Position.BottomCenter,target:e.jsx(n.MinimalButton,{ariaLabel:s,isDisabled:o,testId:"page-navigation__next-button",onClick:a,children:e.jsx(r,{})}),content:function(){return s},offset:h})},k=function(n){var t=n.children,i=n.store;return(t||function(n){return e.jsx(D,{onClick:n.onClick,isDisabled:n.isDisabled})})({isDisabled:c(i).currentPage+1>=g(i).numberOfPages,onClick:function(){var e=i.get("jumpToNextPage");e&&e()}})},T=function(t){var o=t.isDisabled,a=t.onClick,u=i.useContext(n.LocalizationContext).l10n,s=u&&u.pageNavigation?u.pageNavigation.goToNextPage:"Next page";return e.jsx(n.MenuItem,{icon:e.jsx(r,{}),isDisabled:o,testId:"page-navigation__next-menu",onClick:a,children:s})},L={left:0,top:8},N=function(t){var o=t.isDisabled,r=t.onClick,u=i.useContext(n.LocalizationContext).l10n,s=u&&u.pageNavigation?u.pageNavigation.goToPreviousPage:"Previous page";return e.jsx(n.Tooltip,{ariaControlsSuffix:"page-navigation-previous",position:n.Position.BottomCenter,target:e.jsx(n.MinimalButton,{ariaLabel:s,isDisabled:o,testId:"page-navigation__previous-button",onClick:r,children:e.jsx(a,{})}),content:function(){return s},offset:L})},I=function(n){var t=n.store;return(n.children||function(n){return e.jsx(N,{isDisabled:n.isDisabled,onClick:n.onClick})})({isDisabled:c(t).currentPage<=0,onClick:function(){var e=t.get("jumpToPreviousPage");e&&e()}})},y=function(t){var o=t.isDisabled,r=t.onClick,u=i.useContext(n.LocalizationContext).l10n,s=u&&u.pageNavigation?u.pageNavigation.goToPreviousPage:"Previous page";return e.jsx(n.MenuItem,{icon:e.jsx(a,{}),isDisabled:o,testId:"page-navigation__previous-menu",onClick:r,children:s})},O=function(n){var t=n.children,i=n.store,o=g(i).numberOfPages;return t?t({numberOfPages:o}):e.jsx(e.Fragment,{children:o})},w=function(t){var o=t.containerRef,r=t.numPages,a=t.store,u=c(a).currentPage,s=i.useRef(u);s.current=u;var g=i.useRef(!1),l=function(){g.current=!0},f=function(){g.current=!1},p=function(e){var t=o.current,i=g.current||document.activeElement&&t.contains(document.activeElement);if(t&&i){var u,c,l=e.altKey&&"ArrowDown"===e.key||!e.shiftKey&&!e.altKey&&"PageDown"===e.key,f=e.altKey&&"ArrowUp"===e.key||!e.shiftKey&&!e.altKey&&"PageUp"===e.key;if(l)return e.preventDefault(),u=a.get("jumpToPage"),c=s.current+1,void(u&&c<r&&u(c));if(f)return e.preventDefault(),void function(){var e=a.get("jumpToPage"),n=s.current-1;e&&n>=0&&e(n)}();if(n.isMac()?e.metaKey&&!e.ctrlKey:e.altKey)switch(e.key){case"ArrowLeft":e.preventDefault(),function(){var e=a.get("jumpToPreviousDestination");e&&e()}();break;case"ArrowRight":e.preventDefault(),function(){var e=a.get("jumpToNextDestination");e&&e()}()}}};return i.useEffect((function(){var e=o.current;if(e)return document.addEventListener("keydown",p),e.addEventListener("mouseenter",l),e.addEventListener("mouseleave",f),function(){document.removeEventListener("keydown",p),e.removeEventListener("mouseenter",l),e.removeEventListener("mouseleave",f)}}),[o.current]),e.jsx(e.Fragment,{})};exports.DownArrowIcon=o,exports.NextIcon=r,exports.PreviousIcon=a,exports.UpArrowIcon=u,exports.pageNavigationPlugin=function(t){var o=i.useMemo((function(){return Object.assign({},{enableShortcuts:!0},t)}),[]),r=i.useMemo((function(){return n.createStore()}),[]),a=function(n){return e.jsx(x,s({},n,{store:r}))},u=function(n){return e.jsx(b,s({},n,{store:r}))},c=function(n){return e.jsx(k,s({},n,{store:r}))},g=function(n){return e.jsx(I,s({},n,{store:r}))};return{install:function(e){r.update("jumpToDestination",e.jumpToDestination),r.update("jumpToNextDestination",e.jumpToNextDestination),r.update("jumpToNextPage",e.jumpToNextPage),r.update("jumpToPage",e.jumpToPage),r.update("jumpToPreviousDestination",e.jumpToPreviousDestination),r.update("jumpToPreviousPage",e.jumpToPreviousPage)},renderViewer:function(n){var t=n.slot;if(!o.enableShortcuts)return t;var i={children:e.jsxs(e.Fragment,{children:[e.jsx(w,{containerRef:n.containerRef,numPages:n.doc.numPages,store:r}),t.children]})};return s(s({},t),i)},onDocumentLoad:function(e){r.update("doc",e.doc),r.update("numberOfPages",e.doc.numPages)},onViewerStateChange:function(e){return r.update("currentPage",e.pageIndex),e},jumpToNextPage:function(){var e=r.get("jumpToNextPage");e&&e()},jumpToPage:function(e){var n=r.get("jumpToPage");n&&n(e)},jumpToPreviousPage:function(){var e=r.get("jumpToPreviousPage");e&&e()},CurrentPageInput:function(){return e.jsx(l,{store:r})},CurrentPageLabel:function(n){return e.jsx(p,s({},n,{store:r}))},GoToFirstPage:a,GoToFirstPageButton:function(){return e.jsx(a,{children:function(n){return e.jsx(v,s({},n))}})},GoToFirstPageMenuItem:function(n){return e.jsx(a,{children:function(t){return e.jsx(j,{isDisabled:t.isDisabled,onClick:function(){t.onClick(),n.onClick()}})}})},GoToLastPage:u,GoToLastPageButton:function(){return e.jsx(u,{children:function(n){return e.jsx(m,s({},n))}})},GoToLastPageMenuItem:function(n){return e.jsx(u,{children:function(t){return e.jsx(C,{isDisabled:t.isDisabled,onClick:function(){t.onClick(),n.onClick()}})}})},GoToNextPage:c,GoToNextPageButton:function(){return e.jsx(c,{children:function(n){return e.jsx(D,s({},n))}})},GoToNextPageMenuItem:function(n){return e.jsx(c,{children:function(t){return e.jsx(T,{isDisabled:t.isDisabled,onClick:function(){t.onClick(),n.onClick()}})}})},GoToPreviousPage:g,GoToPreviousPageButton:function(){return e.jsx(g,{children:function(n){return e.jsx(N,s({},n))}})},GoToPreviousPageMenuItem:function(n){return e.jsx(g,{children:function(t){return e.jsx(y,{isDisabled:t.isDisabled,onClick:function(){t.onClick(),n.onClick()}})}})},NumberOfPages:function(n){return e.jsx(O,s({},n,{store:r}))}}};
